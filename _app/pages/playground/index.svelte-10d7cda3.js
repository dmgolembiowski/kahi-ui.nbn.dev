import{S as V,i as X,s as Z,Q as $e,R as M,U as N,w as p,x as _,y as m,V as q,q as u,o as c,B as g,Y as oe,Z as fe,k as S,m as C,g as b,d as w,ak as G,ao as Y,an as K,t as P,h as R,bh as ue,j as ce,bd as pe,l as O,ai as _e,n as J,p as y,aj as me,I as E,ap as ge,aq as de,ar as be,T as U,F as ie,at as we,bi as ve,bj as he,a3 as ke,a4 as Se,bk as Ce,W as ze,aW as Le,O as x,aI as je,v as Pe,ac as Re,a1 as Ee,bl as ee,aX as F,aY as Ie,bm as Te,ba as Oe,bn as Be,bb as Me,aQ as Ne,bc as qe}from"../../chunks/vendor-7fbbcfcb.js";import{FALLBACK_SNIPPET as Ue}from"./__layout.reset.svelte-106435c7.js";import{c as Ae,d as Fe,s as te}from"../../chunks/preferences-88d5a5ca.js";import{s as De,m as Qe}from"../../chunks/AppNavigation-e9b1fd63.js";import{R as We,a as I,S as D}from"../../chunks/REPLSplit-860a3240.js";import"../../chunks/PageHeader-12831831.js";import"../../chunks/paths-4b3c6e7e.js";import"../../chunks/AppAnchor-1b07eb4c.js";import"../../chunks/preload-helper-ec9aa979.js";function Ye(l){let e;return{c(){e=P("Share Playground")},l(r){e=R(r,"Share Playground")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function He(l){let e;return{c(){e=P(l[1])},l(r){e=R(r,l[1])},m(r,t){b(r,e,t)},p(r,t){t&2&&ce(e,r[1])},d(r){r&&w(e)}}}function Ke(l){let e,r;return e=new ue({props:{is:"pre",$$slots:{default:[He]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){m(e,t,s),r=!0},p(t,s){const n={};s&34&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function Ve(l){let e,r,t,s;return e=new Y({props:{$$slots:{default:[Ye]},$$scope:{ctx:l}}}),t=new K({props:{$$slots:{default:[Ke]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment),r=S(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=C(n),_(t.$$.fragment,n)},m(n,a){m(e,n,a),b(n,r,a),m(t,n,a),s=!0},p(n,a){const $={};a&32&&($.$$scope={dirty:a,ctx:n}),e.$set($);const o={};a&34&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){c(e.$$.fragment,n),c(t.$$.fragment,n),s=!1},d(n){g(e,n),n&&w(r),g(t,n)}}}function Xe(l){let e,r;return e=new G({props:{width:"prose",max_width:"viewport-75",$$slots:{default:[Ve]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){m(e,t,s),r=!0},p(t,s){const n={};s&34&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function Ze(l){let e,r,t,s;return e=new oe({}),t=new fe({props:{$$slots:{default:[Xe]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment),r=S(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=C(n),_(t.$$.fragment,n)},m(n,a){m(e,n,a),b(n,r,a),m(t,n,a),s=!0},p(n,a){const $={};a&34&&($.$$scope={dirty:a,ctx:n}),t.$set($)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){c(e.$$.fragment,n),c(t.$$.fragment,n),s=!1},d(n){g(e,n),n&&w(r),g(t,n)}}}function Ge(l){let e,r,t;function s(a){l[4](a)}let n={class:"share-prompt",logic_id:"share-prompt",dismissible:!0,$$slots:{default:[Ze]},$$scope:{ctx:l}};return l[0]!==void 0&&(n.logic_state=l[0]),e=new $e({props:n}),M.push(()=>N(e,"logic_state",s)),{c(){p(e.$$.fragment)},l(a){_(e.$$.fragment,a)},m(a,$){m(e,a,$),t=!0},p(a,[$]){const o={};$&34&&(o.$$scope={dirty:$,ctx:a}),!r&&$&1&&(r=!0,o.logic_state=a[0],q(()=>r=!1)),e.$set(o)},i(a){t||(u(e.$$.fragment,a),t=!0)},o(a){c(e.$$.fragment,a),t=!1},d(a){g(e,a)}}}function Je(l,e,r){let t,{logic_state:s=!1}=e,{snippet:n}=e,{value:a}=e;function $(o){s=o,r(0,s)}return l.$$set=o=>{"logic_state"in o&&r(0,s=o.logic_state),"snippet"in o&&r(2,n=o.snippet),"value"in o&&r(3,a=o.value)},l.$$.update=()=>{l.$$.dirty&12&&r(1,t=n&&n.script===a?`${location.origin}/playground?snippet=${n.identifier}`:`${location.origin}/playground?script=${Ae(a)}`)},[s,t,n,a,$]}class ye extends V{constructor(e){super();X(this,e,Je,Ge,Z,{logic_state:0,snippet:2,value:3})}}function ne(l,e,r){const t=l.slice();t[12]=e[r];const s=t[3]?t[12].title.toLowerCase().includes(t[3]):!0;t[13]=s;const n=t[3]?kt(t[12].snippets,t[3]):!0;t[14]=n;const a=!t[13]&&!t[14];return t[15]=a,t}function re(l,e,r){const t=l.slice();return t[18]=e[r],t}function se(l){let e,r,t={ctx:l,current:null,token:null,hasCatch:!1,pending:ct,then:et,catch:xe,value:11,blocks:[,,,]};return me(ht(),t),{c(){e=O(),t.block.c()},l(s){e=O(),t.block.l(s)},m(s,n){b(s,e,n),t.block.m(s,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e,r=!0},p(s,n){l=s,_e(t,l,n)},i(s){r||(u(t.block),r=!0)},o(s){for(let n=0;n<3;n+=1){const a=t.blocks[n];c(a)}r=!1},d(s){s&&w(e),t.block.d(s),t.token=null,t=null}}}function xe(l){return{c:E,l:E,m:E,p:E,i:E,o:E,d:E}}function et(l){let e,r,t,s,n,a;return e=new Y({props:{$$slots:{default:[tt]},$$scope:{ctx:l}}}),t=new K({props:{$$slots:{default:[nt]},$$scope:{ctx:l}}}),n=new K({props:{$$slots:{default:[ut]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment),r=S(),p(t.$$.fragment),s=S(),p(n.$$.fragment)},l($){_(e.$$.fragment,$),r=C($),_(t.$$.fragment,$),s=C($),_(n.$$.fragment,$)},m($,o){m(e,$,o),b($,r,o),m(t,$,o),b($,s,o),m(n,$,o),a=!0},p($,o){const v={};o&2097152&&(v.$$scope={dirty:o,ctx:$}),e.$set(v);const k={};o&2097162&&(k.$$scope={dirty:o,ctx:$}),t.$set(k);const z={};o&2097164&&(z.$$scope={dirty:o,ctx:$}),n.$set(z)},i($){a||(u(e.$$.fragment,$),u(t.$$.fragment,$),u(n.$$.fragment,$),a=!0)},o($){c(e.$$.fragment,$),c(t.$$.fragment,$),c(n.$$.fragment,$),a=!1},d($){g(e,$),$&&w(r),g(t,$),$&&w(s),g(n,$)}}}function tt(l){let e;return{c(){e=P("Snippets")},l(r){e=R(r,"Snippets")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function nt(l){let e,r,t,s;function n(o){l[5](o)}function a(o){l[6](o)}let $={placeholder:"Search snippets...",variation:"block"};return l[1]!==void 0&&($.element=l[1]),l[3]!==void 0&&($.value=l[3]),e=new ge({props:$}),M.push(()=>N(e,"element",n)),M.push(()=>N(e,"value",a)),{c(){p(e.$$.fragment)},l(o){_(e.$$.fragment,o)},m(o,v){m(e,o,v),s=!0},p(o,v){const k={};!r&&v&2&&(r=!0,k.element=o[1],q(()=>r=!1)),!t&&v&8&&(t=!0,k.value=o[3],q(()=>t=!1)),e.$set(k)},i(o){s||(u(e.$$.fragment,o),s=!0)},o(o){c(e.$$.fragment,o),s=!1},d(o){g(e,o)}}}function rt(l){let e=l[12].title+"",r;return{c(){r=P(e)},l(t){r=R(t,e)},m(t,s){b(t,r,s)},p:E,d(t){t&&w(r)}}}function st(l){let e=l[18].title+"",r;return{c(){r=P(e)},l(t){r=R(t,e)},m(t,s){b(t,r,s)},p:E,d(t){t&&w(r)}}}function at(l){let e;return{c(){e=P("Use Snippet")},l(r){e=R(r,"Use Snippet")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function lt(l){let e,r;function t(...s){return l[7](l[18],...s)}return e=new ze({props:{palette:"affirmative",sizing:"nano",$$slots:{default:[at]},$$scope:{ctx:l}}}),e.$on("click",t),{c(){p(e.$$.fragment)},l(s){_(e.$$.fragment,s)},m(s,n){m(e,s,n),r=!0},p(s,n){l=s;const a={};n&2097152&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(s){r||(u(e.$$.fragment,s),r=!0)},o(s){c(e.$$.fragment,s),r=!1},d(s){g(e,s)}}}function $t(l){let e,r,t,s;return e=new Y({props:{$$slots:{default:[st]},$$scope:{ctx:l}}}),t=new Ce({props:{alignment_x:"stretch",$$slots:{default:[lt]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment),r=S(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=C(n),_(t.$$.fragment,n)},m(n,a){m(e,n,a),b(n,r,a),m(t,n,a),s=!0},p(n,a){const $={};a&2097152&&($.$$scope={dirty:a,ctx:n}),e.$set($);const o={};a&2097152&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){c(e.$$.fragment,n),c(t.$$.fragment,n),s=!1},d(n){g(e,n),n&&w(r),g(t,n)}}}function ae(l,e){let r,t,s;return t=new G({props:{sizing:"nano",hidden:!e[13]&&e[3]?!e[18].title.toLowerCase().includes(e[3]):!1,$$slots:{default:[$t]},$$scope:{ctx:e}}}),{key:l,first:null,c(){r=O(),p(t.$$.fragment),this.h()},l(n){r=O(),_(t.$$.fragment,n),this.h()},h(){this.first=r},m(n,a){b(n,r,a),m(t,n,a),s=!0},p(n,a){e=n;const $={};a&8&&($.hidden=!e[13]&&e[3]?!e[18].title.toLowerCase().includes(e[3]):!1),a&2097152&&($.$$scope={dirty:a,ctx:e}),t.$set($)},i(n){s||(u(t.$$.fragment,n),s=!0)},o(n){c(t.$$.fragment,n),s=!1},d(n){n&&w(r),g(t,n)}}}function ot(l){let e=[],r=new Map,t,s,n=l[12].snippets;const a=$=>$[18].identifier;for(let $=0;$<n.length;$+=1){let o=re(l,n,$),v=a(o);r.set(v,e[$]=ae(v,o))}return{c(){for(let $=0;$<e.length;$+=1)e[$].c();t=S()},l($){for(let o=0;o<e.length;o+=1)e[o].l($);t=C($)},m($,o){for(let v=0;v<e.length;v+=1)e[v].m($,o);b($,t,o),s=!0},p($,o){o&24&&(n=$[12].snippets,J(),e=ke(e,o,a,1,$,n,r,t.parentNode,Se,ae,t,re),y())},i($){if(!s){for(let o=0;o<n.length;o+=1)u(e[o]);s=!0}},o($){for(let o=0;o<e.length;o+=1)c(e[o]);s=!1},d($){for(let o=0;o<e.length;o+=1)e[o].d($);$&&w(t)}}}function le(l){let e,r,t,s;return e=new U({props:{is:"strong",hidden:l[15],$$slots:{default:[rt]},$$scope:{ctx:l}}}),t=new he({props:{sizing:"small",spacing:"medium",hidden:l[15],$$slots:{default:[ot]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment),r=S(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=C(n),_(t.$$.fragment,n)},m(n,a){m(e,n,a),b(n,r,a),m(t,n,a),s=!0},p(n,a){const $={};a&8&&($.hidden=n[15]),a&2097152&&($.$$scope={dirty:a,ctx:n}),e.$set($);const o={};a&8&&(o.hidden=n[15]),a&2097160&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){c(e.$$.fragment,n),c(t.$$.fragment,n),s=!1},d(n){g(e,n),n&&w(r),g(t,n)}}}function ft(l){let e,r,t=l[11],s=[];for(let a=0;a<t.length;a+=1)s[a]=le(ne(l,t,a));const n=a=>c(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=O()},l(a){for(let $=0;$<s.length;$+=1)s[$].l(a);e=O()},m(a,$){for(let o=0;o<s.length;o+=1)s[o].m(a,$);b(a,e,$),r=!0},p(a,$){if($&24){t=a[11];let o;for(o=0;o<t.length;o+=1){const v=ne(a,t,o);s[o]?(s[o].p(v,$),u(s[o],1)):(s[o]=le(v),s[o].c(),u(s[o],1),s[o].m(e.parentNode,e))}for(J(),o=t.length;o<s.length;o+=1)n(o);y()}},i(a){if(!r){for(let $=0;$<t.length;$+=1)u(s[$]);r=!0}},o(a){s=s.filter(Boolean);for(let $=0;$<s.length;$+=1)c(s[$]);r=!1},d(a){ve(s,a),a&&w(e)}}}function it(l){let e,r;return e=new ie({props:{spacing:"small",$$slots:{default:[ft]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){m(e,t,s),r=!0},p(t,s){const n={};s&2097160&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function ut(l){let e,r,t;function s(a){l[8](a)}let n={height:"massive",max_height:"viewport-50",$$slots:{default:[it]},$$scope:{ctx:l}};return l[2]!==void 0&&(n.element=l[2]),e=new de({props:n}),M.push(()=>N(e,"element",s)),{c(){p(e.$$.fragment)},l(a){_(e.$$.fragment,a)},m(a,$){m(e,a,$),t=!0},p(a,$){const o={};$&2097160&&(o.$$scope={dirty:$,ctx:a}),!r&&$&4&&(r=!0,o.element=a[2],q(()=>r=!1)),e.$set(o)},i(a){t||(u(e.$$.fragment,a),t=!0)},o(a){c(e.$$.fragment,a),t=!1},d(a){g(e,a)}}}function ct(l){let e,r;return e=new Y({props:{$$slots:{default:[mt]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){m(e,t,s),r=!0},p(t,s){const n={};s&2097152&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function pt(l){let e,r,t;return r=new we({}),{c(){e=P("Loading snippet index"),p(r.$$.fragment)},l(s){e=R(s,"Loading snippet index"),_(r.$$.fragment,s)},m(s,n){b(s,e,n),m(r,s,n),t=!0},i(s){t||(u(r.$$.fragment,s),t=!0)},o(s){c(r.$$.fragment,s),t=!1},d(s){s&&w(e),g(r,s)}}}function _t(l){let e,r;return e=new U({props:{is:"span",$$slots:{default:[pt]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){m(e,t,s),r=!0},p(t,s){const n={};s&2097152&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function mt(l){let e,r;return e=new be({props:{width:"100",$$slots:{default:[_t]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){m(e,t,s),r=!0},p(t,s){const n={};s&2097152&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function gt(l){let e,r,t=l[0]&&se(l);return{c(){t&&t.c(),e=O()},l(s){t&&t.l(s),e=O()},m(s,n){t&&t.m(s,n),b(s,e,n),r=!0},p(s,n){s[0]?t?(t.p(s,n),n&1&&u(t,1)):(t=se(s),t.c(),u(t,1),t.m(e.parentNode,e)):t&&(J(),c(t,1,1,()=>{t=null}),y())},i(s){r||(u(t),r=!0)},o(s){c(t),r=!1},d(s){t&&t.d(s),s&&w(e)}}}function dt(l){let e,r;return e=new G({props:{width:"prose",max_width:"viewport-75",$$slots:{default:[gt]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){m(e,t,s),r=!0},p(t,s){const n={};s&2097167&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function bt(l){let e,r,t,s;return e=new oe({}),t=new fe({props:{$$slots:{default:[dt]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment),r=S(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=C(n),_(t.$$.fragment,n)},m(n,a){m(e,n,a),b(n,r,a),m(t,n,a),s=!0},p(n,a){const $={};a&2097167&&($.$$scope={dirty:a,ctx:n}),t.$set($)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){c(e.$$.fragment,n),c(t.$$.fragment,n),s=!1},d(n){g(e,n),n&&w(r),g(t,n)}}}function wt(l){let e,r,t;function s(a){l[9](a)}let n={class:"snippet-prompt",logic_id:"snippet-prompt",dismissible:!0,$$slots:{default:[bt]},$$scope:{ctx:l}};return l[0]!==void 0&&(n.logic_state=l[0]),e=new $e({props:n}),M.push(()=>N(e,"logic_state",s)),{c(){p(e.$$.fragment)},l(a){_(e.$$.fragment,a)},m(a,$){m(e,a,$),t=!0},p(a,[$]){const o={};$&2097167&&(o.$$scope={dirty:$,ctx:a}),!r&&$&1&&(r=!0,o.logic_state=a[0],q(()=>r=!1)),e.$set(o)},i(a){t||(u(e.$$.fragment,a),t=!0)},o(a){c(e.$$.fragment,a),t=!1},d(a){g(e,a)}}}async function vt(){const l=await fetch("/api/v4/snippets.json"),{data:e}=await l.json();return e.map(r=>({title:r.title,snippets:r.snippets.sort((t,s)=>t.title.toLowerCase().includes("preview")?-1:s.title.toLowerCase().includes("preview")?1:0)}))}const ht=Qe(vt)[0];function kt(l,e){return!!l.find(r=>r.title.toLowerCase().includes(e))}function St(l,e,r){const t=pe();let{logic_state:s=!1}=e,n,a,$="";function o(d,f){t("snippet",{snippet:f}),r(0,s=!1)}function v(d){n=d,r(1,n)}function k(d){$=d,r(3,$)}const z=(d,f)=>o(f,d);function j(d){a=d,r(2,a)}function i(d){s=d,r(0,s)}return l.$$set=d=>{"logic_state"in d&&r(0,s=d.logic_state)},l.$$.update=()=>{if(l.$$.dirty&3&&s&&n&&n.focus(),l.$$.dirty&13&&s&&a){const d=a.querySelector(".text");d&&De(d,"center","smooth",a)}},[s,n,a,$,o,v,k,z,j,i]}class Ct extends V{constructor(e){super();X(this,e,St,wt,Z,{logic_state:0})}}function zt(l){let e,r,t;return e=new Ie({props:{size:"1em"}}),{c(){p(e.$$.fragment),r=P(`
                Snippets`)},l(s){_(e.$$.fragment,s),r=R(s,`
                Snippets`)},m(s,n){m(e,s,n),b(s,r,n),t=!0},p:E,i(s){t||(u(e.$$.fragment,s),t=!0)},o(s){c(e.$$.fragment,s),t=!1},d(s){g(e,s),s&&w(r)}}}function Lt(l){let e,r,t;return e=new Te({props:{size:"1em"}}),{c(){p(e.$$.fragment),r=P(`
                Share`)},l(s){_(e.$$.fragment,s),r=R(s,`
                Share`)},m(s,n){m(e,s,n),b(s,r,n),t=!0},p:E,i(s){t||(u(e.$$.fragment,s),t=!0)},o(s){c(e.$$.fragment,s),t=!1},d(s){g(e,s),s&&w(r)}}}function jt(l){let e,r,t;return e=new Oe({props:{size:"1em"}}),{c(){p(e.$$.fragment),r=P(`
                Copy`)},l(s){_(e.$$.fragment,s),r=R(s,`
                Copy`)},m(s,n){m(e,s,n),b(s,r,n),t=!0},p:E,i(s){t||(u(e.$$.fragment,s),t=!0)},o(s){c(e.$$.fragment,s),t=!1},d(s){g(e,s),s&&w(r)}}}function Pt(l){let e;return{c(){e=P("Rotate")},l(r){e=R(r,"Rotate")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function Rt(l){let e,r,t,s;return e=new Be({props:{size:"1em"}}),t=new U({props:{is:"span",hidden:["mobile","tablet"],$$slots:{default:[Pt]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment),r=S(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=C(n),_(t.$$.fragment,n)},m(n,a){m(e,n,a),b(n,r,a),m(t,n,a),s=!0},p(n,a){const $={};a&524288&&($.$$scope={dirty:a,ctx:n}),t.$set($)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){c(e.$$.fragment,n),c(t.$$.fragment,n),s=!1},d(n){g(e,n),n&&w(r),g(t,n)}}}function Et(l){let e;return{c(){e=P("Split")},l(r){e=R(r,"Split")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function It(l){let e,r,t,s;return e=new Me({props:{size:"1em"}}),t=new U({props:{is:"span",hidden:["mobile","tablet"],$$slots:{default:[Et]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment),r=S(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=C(n),_(t.$$.fragment,n)},m(n,a){m(e,n,a),b(n,r,a),m(t,n,a),s=!0},p(n,a){const $={};a&524288&&($.$$scope={dirty:a,ctx:n}),t.$set($)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){c(e.$$.fragment,n),c(t.$$.fragment,n),s=!1},d(n){g(e,n),n&&w(r),g(t,n)}}}function Tt(l){let e;return{c(){e=P("Editor")},l(r){e=R(r,"Editor")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function Ot(l){let e,r,t,s;return e=new Ne({props:{size:"1em"}}),t=new U({props:{is:"span",hidden:["mobile","tablet"],$$slots:{default:[Tt]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment),r=S(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=C(n),_(t.$$.fragment,n)},m(n,a){m(e,n,a),b(n,r,a),m(t,n,a),s=!0},p(n,a){const $={};a&524288&&($.$$scope={dirty:a,ctx:n}),t.$set($)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){c(e.$$.fragment,n),c(t.$$.fragment,n),s=!1},d(n){g(e,n),n&&w(r),g(t,n)}}}function Bt(l){let e;return{c(){e=P("Render")},l(r){e=R(r,"Render")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function Mt(l){let e,r,t,s;return e=new qe({props:{size:"1em"}}),t=new U({props:{is:"span",hidden:["mobile","tablet"],$$slots:{default:[Bt]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment),r=S(),p(t.$$.fragment)},l(n){_(e.$$.fragment,n),r=C(n),_(t.$$.fragment,n)},m(n,a){m(e,n,a),b(n,r,a),m(t,n,a),s=!0},p(n,a){const $={};a&524288&&($.$$scope={dirty:a,ctx:n}),t.$set($)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){c(e.$$.fragment,n),c(t.$$.fragment,n),s=!1},d(n){g(e,n),n&&w(r),g(t,n)}}}function Nt(l){let e,r,t,s,n,a,$,o,v,k,z,j,i,d;return e=new ee({props:{for:"snippet-prompt",palette:"alert",$$slots:{default:[zt]},$$scope:{ctx:l}}}),t=new ee({props:{for:"share-prompt",palette:"informative",$$slots:{default:[Lt]},$$scope:{ctx:l}}}),n=new F({props:{palette:"affirmative",$$slots:{default:[jt]},$$scope:{ctx:l}}}),n.$on("click",l[6]),$=new F({props:{palette:"inverse",$$slots:{default:[Rt]},$$scope:{ctx:l}}}),$.$on("click",l[9]),v=new F({props:{active:l[3]===I.split,palette:"inverse",$$slots:{default:[It]},$$scope:{ctx:l}}}),v.$on("click",l[10]),z=new F({props:{active:l[3]===I.first,palette:"inverse",$$slots:{default:[Ot]},$$scope:{ctx:l}}}),z.$on("click",l[11]),i=new F({props:{active:l[3]===I.last,palette:"inverse",$$slots:{default:[Mt]},$$scope:{ctx:l}}}),i.$on("click",l[12]),{c(){p(e.$$.fragment),r=S(),p(t.$$.fragment),s=S(),p(n.$$.fragment),a=S(),p($.$$.fragment),o=S(),p(v.$$.fragment),k=S(),p(z.$$.fragment),j=S(),p(i.$$.fragment)},l(f){_(e.$$.fragment,f),r=C(f),_(t.$$.fragment,f),s=C(f),_(n.$$.fragment,f),a=C(f),_($.$$.fragment,f),o=C(f),_(v.$$.fragment,f),k=C(f),_(z.$$.fragment,f),j=C(f),_(i.$$.fragment,f)},m(f,h){m(e,f,h),b(f,r,h),m(t,f,h),b(f,s,h),m(n,f,h),b(f,a,h),m($,f,h),b(f,o,h),m(v,f,h),b(f,k,h),m(z,f,h),b(f,j,h),m(i,f,h),d=!0},p(f,h){const T={};h&524288&&(T.$$scope={dirty:h,ctx:f}),e.$set(T);const B={};h&524288&&(B.$$scope={dirty:h,ctx:f}),t.$set(B);const Q={};h&524288&&(Q.$$scope={dirty:h,ctx:f}),n.$set(Q);const W={};h&524288&&(W.$$scope={dirty:h,ctx:f}),$.$set(W);const A={};h&8&&(A.active=f[3]===I.split),h&524288&&(A.$$scope={dirty:h,ctx:f}),v.$set(A);const L={};h&8&&(L.active=f[3]===I.first),h&524288&&(L.$$scope={dirty:h,ctx:f}),z.$set(L);const H={};h&8&&(H.active=f[3]===I.last),h&524288&&(H.$$scope={dirty:h,ctx:f}),i.$set(H)},i(f){d||(u(e.$$.fragment,f),u(t.$$.fragment,f),u(n.$$.fragment,f),u($.$$.fragment,f),u(v.$$.fragment,f),u(z.$$.fragment,f),u(i.$$.fragment,f),d=!0)},o(f){c(e.$$.fragment,f),c(t.$$.fragment,f),c(n.$$.fragment,f),c($.$$.fragment,f),c(v.$$.fragment,f),c(z.$$.fragment,f),c(i.$$.fragment,f),d=!1},d(f){g(e,f),f&&w(r),g(t,f),f&&w(s),g(n,f),f&&w(a),g($,f),f&&w(o),g(v,f),f&&w(k),g(z,f),f&&w(j),g(i,f)}}}function qt(l){let e,r;return e=new Ee({props:{orientation:"horizontal",sizing:"tiny",$$slots:{default:[Nt]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){m(e,t,s),r=!0},p(t,s){const n={};s&524312&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function Ut(l){let e,r;return e=new ie({props:{alignment_x:["center","desktop:right","widescreen:right"],orientation:"horizontal",$$slots:{default:[qt]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){_(e.$$.fragment,t)},m(t,s){m(e,t,s),r=!0},p(t,s){const n={};s&524312&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){c(e.$$.fragment,t),r=!1},d(t){g(e,t)}}}function At(l){var j;let e,r,t,s,n,a,$,o,v;e=new Le({props:{padding:"small",$$slots:{default:[Ut]},$$scope:{ctx:l}}});function k(i){l[13](i)}let z={mode:l[3],orientation:l[4]};return l[2]!==void 0&&(z.value=l[2]),t=new We({props:z}),M.push(()=>N(t,"value",k)),a=new Ct({}),a.$on("snippet",l[7]),o=new ye({props:{snippet:(j=l[0])!=null?j:l[1],value:l[2]}}),{c(){p(e.$$.fragment),r=S(),p(t.$$.fragment),n=S(),p(a.$$.fragment),$=S(),p(o.$$.fragment)},l(i){_(e.$$.fragment,i),r=C(i),_(t.$$.fragment,i),n=C(i),_(a.$$.fragment,i),$=C(i),_(o.$$.fragment,i)},m(i,d){m(e,i,d),b(i,r,d),m(t,i,d),b(i,n,d),m(a,i,d),b(i,$,d),m(o,i,d),v=!0},p(i,[d]){var B;const f={};d&524312&&(f.$$scope={dirty:d,ctx:i}),e.$set(f);const h={};d&8&&(h.mode=i[3]),d&16&&(h.orientation=i[4]),!s&&d&4&&(s=!0,h.value=i[2],q(()=>s=!1)),t.$set(h);const T={};d&3&&(T.snippet=(B=i[0])!=null?B:i[1]),d&4&&(T.value=i[2]),o.$set(T)},i(i){v||(u(e.$$.fragment,i),u(t.$$.fragment,i),u(a.$$.fragment,i),u(o.$$.fragment,i),v=!0)},o(i){c(e.$$.fragment,i),c(t.$$.fragment,i),c(a.$$.fragment,i),c(o.$$.fragment,i),v=!1},d(i){g(e,i),i&&w(r),g(t,i),i&&w(n),g(a,i),i&&w($),g(o,i)}}}const Gt=async({fetch:l})=>{const e=new URLSearchParams(location.search),{script:r="",snippet:t=""}=Object.fromEntries(e.entries());if(t){const a=await l(`/api/v4/snippets/${t}.json`);if(!a.ok){const o=await a.json();return{status:a.status,error:o.code}}return{props:{snippet:(await a.json()).data}}}else if(r)return{props:{script:Fe(r)}};const s=await l(`/api/v4/snippets/${Ue}.json`);if(!s.ok){const a=await s.json();return{status:s.status,error:a.code}}return{props:{fallback:(await s.json()).data}}};function Ft(l,e,r){let t,s;x(l,te,L=>r(17,t=L));var n,a,$;let{fallback:o}=e,{script:v}=e,{snippet:k}=e;const z=je({mobile:!0,tablet:!0});x(l,z,L=>r(18,s=L));let j=I.split,i=s?D.vertical:D.horizontal,d=((a=(n=k==null?void 0:k.script)!==null&&n!==void 0?n:v)!==null&&a!==void 0?a:t)||(($=o==null?void 0:o.script)!==null&&$!==void 0?$:"");function f(L){navigator.clipboard.writeText(d)}function h(L){r(0,k=L.detail.snippet),r(2,d=k.script)}Pe(()=>{history.replaceState(null,"",`${location.origin}${location.pathname}`)});const T=()=>r(4,i=i===D.horizontal?D.vertical:D.horizontal),B=()=>r(3,j=I.split),Q=()=>r(3,j=I.first),W=()=>r(3,j=I.last);function A(L){d=L,r(2,d)}return l.$$set=L=>{"fallback"in L&&r(1,o=L.fallback),"script"in L&&r(8,v=L.script),"snippet"in L&&r(0,k=L.snippet)},l.$$.update=()=>{l.$$.dirty&4&&Re(te,t=d,t)},[k,o,d,j,i,z,f,h,v,T,B,Q,W,A]}class Jt extends V{constructor(e){super();X(this,e,Ft,At,Z,{fallback:1,script:8,snippet:0})}}export{Jt as default,Gt as load};
