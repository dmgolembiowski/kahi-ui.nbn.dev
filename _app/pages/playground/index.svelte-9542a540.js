import{S as V,i as X,s as Z,Q as le,R as N,U as q,w as _,x as m,y as g,V as U,q as i,o as u,B as d,Y as oe,Z as fe,k as S,m as C,g as b,d as w,ak as G,ao as Y,an as K,t as P,h as R,bf as ue,j as ce,bd as pe,l as B,ai as _e,n as J,p as y,aj as me,I as T,ap as ge,aq as de,ar as be,T as O,F as ie,at as we,bg as he,bh as ve,a3 as ke,a4 as Se,bi as Ce,W as ze,aW as Le,O as x,aI as je,v as Pe,ac as Re,a1 as Ee,bj as ee,aX as F,aY as Ie,bk as Te,ba as Oe,bl as Be,bb as Me,aQ as Ne,bc as qe}from"../../chunks/vendor-fb373247.js";import{FALLBACK_SNIPPET as Ue}from"./__layout.reset.svelte-fd417732.js";import{c as Ae,d as Fe,s as te}from"../../chunks/preferences-01fb94c1.js";import{m as De}from"../../chunks/functional-5d85894f.js";import{s as Qe}from"../../chunks/AppNavigation-08f6d17d.js";import{d as We}from"../../chunks/functional-9bd4c5da.js";import{R as Ye,a as I,S as D}from"../../chunks/REPLSplit-f7a7b029.js";import"../../chunks/PageHeader-185ebfab.js";import"../../chunks/paths-4b3c6e7e.js";import"../../chunks/AppAnchor-654d35b7.js";import"../../chunks/preload-helper-ec9aa979.js";function He($){let e;return{c(){e=P("Share Playground")},l(r){e=R(r,"Share Playground")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function Ke($){let e;return{c(){e=P($[1])},l(r){e=R(r,$[1])},m(r,t){b(r,e,t)},p(r,t){t&2&&ce(e,r[1])},d(r){r&&w(e)}}}function Ve($){let e,r;return e=new ue({props:{is:"pre",$$slots:{default:[Ke]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&34&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function Xe($){let e,r,t,s;return e=new Y({props:{$$slots:{default:[He]},$$scope:{ctx:$}}}),t=new K({props:{$$slots:{default:[Ve]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const l={};a&32&&(l.$$scope={dirty:a,ctx:n}),e.$set(l);const o={};a&34&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){s||(i(e.$$.fragment,n),i(t.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Ze($){let e,r;return e=new G({props:{width:"prose",max_width:"viewport-75",$$slots:{default:[Xe]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&34&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function Ge($){let e,r,t,s;return e=new oe({}),t=new fe({props:{$$slots:{default:[Ze]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const l={};a&34&&(l.$$scope={dirty:a,ctx:n}),t.$set(l)},i(n){s||(i(e.$$.fragment,n),i(t.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Je($){let e,r,t;function s(a){$[4](a)}let n={class:"share-prompt",logic_id:"share-prompt",dismissible:!0,$$slots:{default:[Ge]},$$scope:{ctx:$}};return $[0]!==void 0&&(n.logic_state=$[0]),e=new le({props:n}),N.push(()=>q(e,"logic_state",s)),{c(){_(e.$$.fragment)},l(a){m(e.$$.fragment,a)},m(a,l){g(e,a,l),t=!0},p(a,[l]){const o={};l&34&&(o.$$scope={dirty:l,ctx:a}),!r&&l&1&&(r=!0,o.logic_state=a[0],U(()=>r=!1)),e.$set(o)},i(a){t||(i(e.$$.fragment,a),t=!0)},o(a){u(e.$$.fragment,a),t=!1},d(a){d(e,a)}}}function ye($,e,r){let t,{logic_state:s=!1}=e,{snippet:n}=e,{value:a}=e;function l(o){s=o,r(0,s)}return $.$$set=o=>{"logic_state"in o&&r(0,s=o.logic_state),"snippet"in o&&r(2,n=o.snippet),"value"in o&&r(3,a=o.value)},$.$$.update=()=>{$.$$.dirty&12&&r(1,t=n&&n.script===a?`${location.origin}/playground?snippet=${n.identifier}`:`${location.origin}/playground?script=${Ae(a)}`)},[s,t,n,a,l]}class xe extends V{constructor(e){super();X(this,e,ye,Je,Z,{logic_state:0,snippet:2,value:3})}}function ne($,e,r){const t=$.slice();t[14]=e[r];const s=t[3]?t[14].title.toLowerCase().includes(t[3]):!0;t[15]=s;const n=t[3]?St(t[14].snippets,t[3]):!0;t[16]=n;const a=!t[15]&&!t[16];return t[17]=a,t}function re($,e,r){const t=$.slice();return t[20]=e[r],t}function se($){let e,r,t={ctx:$,current:null,token:null,hasCatch:!1,pending:pt,then:tt,catch:et,value:13,blocks:[,,,]};return me(kt(),t),{c(){e=B(),t.block.c()},l(s){e=B(),t.block.l(s)},m(s,n){b(s,e,n),t.block.m(s,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e,r=!0},p(s,n){$=s,_e(t,$,n)},i(s){r||(i(t.block),r=!0)},o(s){for(let n=0;n<3;n+=1){const a=t.blocks[n];u(a)}r=!1},d(s){s&&w(e),t.block.d(s),t.token=null,t=null}}}function et($){return{c:T,l:T,m:T,p:T,i:T,o:T,d:T}}function tt($){let e,r,t,s,n,a;return e=new Y({props:{$$slots:{default:[nt]},$$scope:{ctx:$}}}),t=new K({props:{$$slots:{default:[rt]},$$scope:{ctx:$}}}),n=new K({props:{$$slots:{default:[ct]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment),s=S(),_(n.$$.fragment)},l(l){m(e.$$.fragment,l),r=C(l),m(t.$$.fragment,l),s=C(l),m(n.$$.fragment,l)},m(l,o){g(e,l,o),b(l,r,o),g(t,l,o),b(l,s,o),g(n,l,o),a=!0},p(l,o){const h={};o&8388608&&(h.$$scope={dirty:o,ctx:l}),e.$set(h);const k={};o&8388626&&(k.$$scope={dirty:o,ctx:l}),t.$set(k);const z={};o&8388620&&(z.$$scope={dirty:o,ctx:l}),n.$set(z)},i(l){a||(i(e.$$.fragment,l),i(t.$$.fragment,l),i(n.$$.fragment,l),a=!0)},o(l){u(e.$$.fragment,l),u(t.$$.fragment,l),u(n.$$.fragment,l),a=!1},d(l){d(e,l),l&&w(r),d(t,l),l&&w(s),d(n,l)}}}function nt($){let e;return{c(){e=P("Snippets")},l(r){e=R(r,"Snippets")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function rt($){let e,r,t,s;function n(o){$[6](o)}function a(o){$[7](o)}let l={placeholder:"Search snippets...",variation:"block"};return $[1]!==void 0&&(l.element=$[1]),$[4]!==void 0&&(l.value=$[4]),e=new ge({props:l}),N.push(()=>q(e,"element",n)),N.push(()=>q(e,"value",a)),{c(){_(e.$$.fragment)},l(o){m(e.$$.fragment,o)},m(o,h){g(e,o,h),s=!0},p(o,h){const k={};!r&&h&2&&(r=!0,k.element=o[1],U(()=>r=!1)),!t&&h&16&&(t=!0,k.value=o[4],U(()=>t=!1)),e.$set(k)},i(o){s||(i(e.$$.fragment,o),s=!0)},o(o){u(e.$$.fragment,o),s=!1},d(o){d(e,o)}}}function st($){let e=$[14].title+"",r;return{c(){r=P(e)},l(t){r=R(t,e)},m(t,s){b(t,r,s)},p:T,d(t){t&&w(r)}}}function at($){let e=$[20].title+"",r;return{c(){r=P(e)},l(t){r=R(t,e)},m(t,s){b(t,r,s)},p:T,d(t){t&&w(r)}}}function $t($){let e;return{c(){e=P("Use Snippet")},l(r){e=R(r,"Use Snippet")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function lt($){let e,r;function t(...s){return $[8]($[20],...s)}return e=new ze({props:{palette:"affirmative",sizing:"nano",$$slots:{default:[$t]},$$scope:{ctx:$}}}),e.$on("click",t),{c(){_(e.$$.fragment)},l(s){m(e.$$.fragment,s)},m(s,n){g(e,s,n),r=!0},p(s,n){$=s;const a={};n&8388608&&(a.$$scope={dirty:n,ctx:$}),e.$set(a)},i(s){r||(i(e.$$.fragment,s),r=!0)},o(s){u(e.$$.fragment,s),r=!1},d(s){d(e,s)}}}function ot($){let e,r,t,s;return e=new Y({props:{$$slots:{default:[at]},$$scope:{ctx:$}}}),t=new Ce({props:{alignment_x:"stretch",$$slots:{default:[lt]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const l={};a&8388608&&(l.$$scope={dirty:a,ctx:n}),e.$set(l);const o={};a&8388608&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){s||(i(e.$$.fragment,n),i(t.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function ae($,e){let r,t,s;return t=new G({props:{sizing:"nano",hidden:!e[15]&&e[3]?!e[20].title.toLowerCase().includes(e[3]):!1,$$slots:{default:[ot]},$$scope:{ctx:e}}}),{key:$,first:null,c(){r=B(),_(t.$$.fragment),this.h()},l(n){r=B(),m(t.$$.fragment,n),this.h()},h(){this.first=r},m(n,a){b(n,r,a),g(t,n,a),s=!0},p(n,a){e=n;const l={};a&8&&(l.hidden=!e[15]&&e[3]?!e[20].title.toLowerCase().includes(e[3]):!1),a&8388608&&(l.$$scope={dirty:a,ctx:e}),t.$set(l)},i(n){s||(i(t.$$.fragment,n),s=!0)},o(n){u(t.$$.fragment,n),s=!1},d(n){n&&w(r),d(t,n)}}}function ft($){let e=[],r=new Map,t,s,n=$[14].snippets;const a=l=>l[20].identifier;for(let l=0;l<n.length;l+=1){let o=re($,n,l),h=a(o);r.set(h,e[l]=ae(h,o))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=S()},l(l){for(let o=0;o<e.length;o+=1)e[o].l(l);t=C(l)},m(l,o){for(let h=0;h<e.length;h+=1)e[h].m(l,o);b(l,t,o),s=!0},p(l,o){o&40&&(n=l[14].snippets,J(),e=ke(e,o,a,1,l,n,r,t.parentNode,Se,ae,t,re),y())},i(l){if(!s){for(let o=0;o<n.length;o+=1)i(e[o]);s=!0}},o(l){for(let o=0;o<e.length;o+=1)u(e[o]);s=!1},d(l){for(let o=0;o<e.length;o+=1)e[o].d(l);l&&w(t)}}}function $e($){let e,r,t,s;return e=new O({props:{is:"strong",hidden:$[17],$$slots:{default:[st]},$$scope:{ctx:$}}}),t=new ve({props:{sizing:"small",spacing:"medium",hidden:$[17],$$slots:{default:[ft]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const l={};a&8&&(l.hidden=n[17]),a&8388608&&(l.$$scope={dirty:a,ctx:n}),e.$set(l);const o={};a&8&&(o.hidden=n[17]),a&8388616&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){s||(i(e.$$.fragment,n),i(t.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function it($){let e,r,t=$[13],s=[];for(let a=0;a<t.length;a+=1)s[a]=$e(ne($,t,a));const n=a=>u(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=B()},l(a){for(let l=0;l<s.length;l+=1)s[l].l(a);e=B()},m(a,l){for(let o=0;o<s.length;o+=1)s[o].m(a,l);b(a,e,l),r=!0},p(a,l){if(l&40){t=a[13];let o;for(o=0;o<t.length;o+=1){const h=ne(a,t,o);s[o]?(s[o].p(h,l),i(s[o],1)):(s[o]=$e(h),s[o].c(),i(s[o],1),s[o].m(e.parentNode,e))}for(J(),o=t.length;o<s.length;o+=1)n(o);y()}},i(a){if(!r){for(let l=0;l<t.length;l+=1)i(s[l]);r=!0}},o(a){s=s.filter(Boolean);for(let l=0;l<s.length;l+=1)u(s[l]);r=!1},d(a){he(s,a),a&&w(e)}}}function ut($){let e,r;return e=new ie({props:{spacing:"small",$$slots:{default:[it]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&8388616&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function ct($){let e,r,t;function s(a){$[9](a)}let n={height:"massive",max_height:"viewport-50",$$slots:{default:[ut]},$$scope:{ctx:$}};return $[2]!==void 0&&(n.element=$[2]),e=new de({props:n}),N.push(()=>q(e,"element",s)),{c(){_(e.$$.fragment)},l(a){m(e.$$.fragment,a)},m(a,l){g(e,a,l),t=!0},p(a,l){const o={};l&8388616&&(o.$$scope={dirty:l,ctx:a}),!r&&l&4&&(r=!0,o.element=a[2],U(()=>r=!1)),e.$set(o)},i(a){t||(i(e.$$.fragment,a),t=!0)},o(a){u(e.$$.fragment,a),t=!1},d(a){d(e,a)}}}function pt($){let e,r;return e=new Y({props:{$$slots:{default:[gt]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&8388608&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function _t($){let e,r,t;return r=new we({}),{c(){e=P("Loading snippet index"),_(r.$$.fragment)},l(s){e=R(s,"Loading snippet index"),m(r.$$.fragment,s)},m(s,n){b(s,e,n),g(r,s,n),t=!0},i(s){t||(i(r.$$.fragment,s),t=!0)},o(s){u(r.$$.fragment,s),t=!1},d(s){s&&w(e),d(r,s)}}}function mt($){let e,r;return e=new O({props:{is:"span",$$slots:{default:[_t]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&8388608&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function gt($){let e,r;return e=new be({props:{width:"100",$$slots:{default:[mt]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&8388608&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function dt($){let e,r,t=$[0]&&se($);return{c(){t&&t.c(),e=B()},l(s){t&&t.l(s),e=B()},m(s,n){t&&t.m(s,n),b(s,e,n),r=!0},p(s,n){s[0]?t?(t.p(s,n),n&1&&i(t,1)):(t=se(s),t.c(),i(t,1),t.m(e.parentNode,e)):t&&(J(),u(t,1,1,()=>{t=null}),y())},i(s){r||(i(t),r=!0)},o(s){u(t),r=!1},d(s){t&&t.d(s),s&&w(e)}}}function bt($){let e,r;return e=new G({props:{width:"prose",max_width:"viewport-75",$$slots:{default:[dt]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&8388639&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function wt($){let e,r,t,s;return e=new oe({}),t=new fe({props:{$$slots:{default:[bt]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const l={};a&8388639&&(l.$$scope={dirty:a,ctx:n}),t.$set(l)},i(n){s||(i(e.$$.fragment,n),i(t.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function ht($){let e,r,t;function s(a){$[10](a)}let n={class:"snippet-prompt",logic_id:"snippet-prompt",dismissible:!0,$$slots:{default:[wt]},$$scope:{ctx:$}};return $[0]!==void 0&&(n.logic_state=$[0]),e=new le({props:n}),N.push(()=>q(e,"logic_state",s)),{c(){_(e.$$.fragment)},l(a){m(e.$$.fragment,a)},m(a,l){g(e,a,l),t=!0},p(a,[l]){const o={};l&8388639&&(o.$$scope={dirty:l,ctx:a}),!r&&l&1&&(r=!0,o.logic_state=a[0],U(()=>r=!1)),e.$set(o)},i(a){t||(i(e.$$.fragment,a),t=!0)},o(a){u(e.$$.fragment,a),t=!1},d(a){d(e,a)}}}async function vt(){const $=await fetch("/api/v4/snippets.json"),{data:e}=await $.json();return e.map(r=>({title:r.title,snippets:r.snippets.sort((t,s)=>t.title.toLowerCase().includes("preview")?-1:s.title.toLowerCase().includes("preview")?1:0)}))}const kt=De(vt)[0];function St($,e){return!!$.find(r=>r.title.toLowerCase().includes(e))}function Ct($,e,r){const t=pe();let{logic_state:s=!1}=e,n,a,l="",o="";const h=We(p=>r(3,l=p),100);function k(p,E){t("snippet",{snippet:E}),r(0,s=!1)}function z(p){n=p,r(1,n)}function j(p){o=p,r(4,o)}const c=(p,E)=>k(E,p);function v(p){a=p,r(2,a)}function f(p){s=p,r(0,s)}return $.$$set=p=>{"logic_state"in p&&r(0,s=p.logic_state)},$.$$.update=()=>{if($.$$.dirty&16&&h(o),$.$$.dirty&3&&s&&n&&n.focus(),$.$$.dirty&13&&s&&a){const p=a.querySelector(".text");p&&Qe(p,"center","smooth",a)}},[s,n,a,l,o,k,z,j,c,v,f]}class zt extends V{constructor(e){super();X(this,e,Ct,ht,Z,{logic_state:0})}}function Lt($){let e;return{c(){e=P("Snippets")},l(r){e=R(r,"Snippets")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function jt($){let e,r,t,s;return e=new Ie({props:{size:"1em"}}),t=new O({props:{is:"span",hidden:"mobile",$$slots:{default:[Lt]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const l={};a&524288&&(l.$$scope={dirty:a,ctx:n}),t.$set(l)},i(n){s||(i(e.$$.fragment,n),i(t.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Pt($){let e;return{c(){e=P("Share")},l(r){e=R(r,"Share")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function Rt($){let e,r,t,s;return e=new Te({props:{size:"1em"}}),t=new O({props:{is:"span",hidden:"mobile",$$slots:{default:[Pt]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const l={};a&524288&&(l.$$scope={dirty:a,ctx:n}),t.$set(l)},i(n){s||(i(e.$$.fragment,n),i(t.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Et($){let e;return{c(){e=P("Copy")},l(r){e=R(r,"Copy")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function It($){let e,r,t,s;return e=new Oe({props:{size:"1em"}}),t=new O({props:{is:"span",hidden:"mobile",$$slots:{default:[Et]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const l={};a&524288&&(l.$$scope={dirty:a,ctx:n}),t.$set(l)},i(n){s||(i(e.$$.fragment,n),i(t.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Tt($){let e;return{c(){e=P("Rotate")},l(r){e=R(r,"Rotate")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function Ot($){let e,r,t,s;return e=new Be({props:{size:"1em"}}),t=new O({props:{is:"span",hidden:"mobile",$$slots:{default:[Tt]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const l={};a&524288&&(l.$$scope={dirty:a,ctx:n}),t.$set(l)},i(n){s||(i(e.$$.fragment,n),i(t.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Bt($){let e;return{c(){e=P("Split")},l(r){e=R(r,"Split")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function Mt($){let e,r,t,s;return e=new Me({props:{size:"1em"}}),t=new O({props:{is:"span",hidden:["mobile","tablet"],$$slots:{default:[Bt]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const l={};a&524288&&(l.$$scope={dirty:a,ctx:n}),t.$set(l)},i(n){s||(i(e.$$.fragment,n),i(t.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Nt($){let e;return{c(){e=P("Editor")},l(r){e=R(r,"Editor")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function qt($){let e,r,t,s;return e=new Ne({props:{size:"1em"}}),t=new O({props:{is:"span",hidden:["mobile","tablet"],$$slots:{default:[Nt]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const l={};a&524288&&(l.$$scope={dirty:a,ctx:n}),t.$set(l)},i(n){s||(i(e.$$.fragment,n),i(t.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Ut($){let e;return{c(){e=P("Render")},l(r){e=R(r,"Render")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function At($){let e,r,t,s;return e=new qe({props:{size:"1em"}}),t=new O({props:{is:"span",hidden:["mobile","tablet"],$$slots:{default:[Ut]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const l={};a&524288&&(l.$$scope={dirty:a,ctx:n}),t.$set(l)},i(n){s||(i(e.$$.fragment,n),i(t.$$.fragment,n),s=!0)},o(n){u(e.$$.fragment,n),u(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Ft($){let e,r,t,s,n,a,l,o,h,k,z,j,c,v;return e=new ee({props:{for:"snippet-prompt",palette:"alert",$$slots:{default:[jt]},$$scope:{ctx:$}}}),t=new ee({props:{for:"share-prompt",palette:"informative",$$slots:{default:[Rt]},$$scope:{ctx:$}}}),n=new F({props:{palette:"affirmative",$$slots:{default:[It]},$$scope:{ctx:$}}}),n.$on("click",$[6]),l=new F({props:{palette:"negative",$$slots:{default:[Ot]},$$scope:{ctx:$}}}),l.$on("click",$[9]),h=new F({props:{active:$[3]===I.split,palette:"inverse",$$slots:{default:[Mt]},$$scope:{ctx:$}}}),h.$on("click",$[10]),z=new F({props:{active:$[3]===I.first,palette:"inverse",$$slots:{default:[qt]},$$scope:{ctx:$}}}),z.$on("click",$[11]),c=new F({props:{active:$[3]===I.last,palette:"inverse",$$slots:{default:[At]},$$scope:{ctx:$}}}),c.$on("click",$[12]),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment),s=S(),_(n.$$.fragment),a=S(),_(l.$$.fragment),o=S(),_(h.$$.fragment),k=S(),_(z.$$.fragment),j=S(),_(c.$$.fragment)},l(f){m(e.$$.fragment,f),r=C(f),m(t.$$.fragment,f),s=C(f),m(n.$$.fragment,f),a=C(f),m(l.$$.fragment,f),o=C(f),m(h.$$.fragment,f),k=C(f),m(z.$$.fragment,f),j=C(f),m(c.$$.fragment,f)},m(f,p){g(e,f,p),b(f,r,p),g(t,f,p),b(f,s,p),g(n,f,p),b(f,a,p),g(l,f,p),b(f,o,p),g(h,f,p),b(f,k,p),g(z,f,p),b(f,j,p),g(c,f,p),v=!0},p(f,p){const E={};p&524288&&(E.$$scope={dirty:p,ctx:f}),e.$set(E);const M={};p&524288&&(M.$$scope={dirty:p,ctx:f}),t.$set(M);const Q={};p&524288&&(Q.$$scope={dirty:p,ctx:f}),n.$set(Q);const W={};p&524288&&(W.$$scope={dirty:p,ctx:f}),l.$set(W);const A={};p&8&&(A.active=f[3]===I.split),p&524288&&(A.$$scope={dirty:p,ctx:f}),h.$set(A);const L={};p&8&&(L.active=f[3]===I.first),p&524288&&(L.$$scope={dirty:p,ctx:f}),z.$set(L);const H={};p&8&&(H.active=f[3]===I.last),p&524288&&(H.$$scope={dirty:p,ctx:f}),c.$set(H)},i(f){v||(i(e.$$.fragment,f),i(t.$$.fragment,f),i(n.$$.fragment,f),i(l.$$.fragment,f),i(h.$$.fragment,f),i(z.$$.fragment,f),i(c.$$.fragment,f),v=!0)},o(f){u(e.$$.fragment,f),u(t.$$.fragment,f),u(n.$$.fragment,f),u(l.$$.fragment,f),u(h.$$.fragment,f),u(z.$$.fragment,f),u(c.$$.fragment,f),v=!1},d(f){d(e,f),f&&w(r),d(t,f),f&&w(s),d(n,f),f&&w(a),d(l,f),f&&w(o),d(h,f),f&&w(k),d(z,f),f&&w(j),d(c,f)}}}function Dt($){let e,r;return e=new Ee({props:{orientation:"horizontal",sizing:"tiny",$$slots:{default:[Ft]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&524312&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function Qt($){let e,r;return e=new ie({props:{alignment_x:["center","desktop:right","widescreen:right"],orientation:"horizontal",$$slots:{default:[Dt]},$$scope:{ctx:$}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&524312&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(i(e.$$.fragment,t),r=!0)},o(t){u(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function Wt($){var j;let e,r,t,s,n,a,l,o,h;e=new Le({props:{padding:"small",$$slots:{default:[Qt]},$$scope:{ctx:$}}});function k(c){$[13](c)}let z={mode:$[3],orientation:$[4]};return $[2]!==void 0&&(z.value=$[2]),t=new Ye({props:z}),N.push(()=>q(t,"value",k)),a=new zt({}),a.$on("snippet",$[7]),o=new xe({props:{snippet:(j=$[0])!=null?j:$[1],value:$[2]}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment),n=S(),_(a.$$.fragment),l=S(),_(o.$$.fragment)},l(c){m(e.$$.fragment,c),r=C(c),m(t.$$.fragment,c),n=C(c),m(a.$$.fragment,c),l=C(c),m(o.$$.fragment,c)},m(c,v){g(e,c,v),b(c,r,v),g(t,c,v),b(c,n,v),g(a,c,v),b(c,l,v),g(o,c,v),h=!0},p(c,[v]){var M;const f={};v&524312&&(f.$$scope={dirty:v,ctx:c}),e.$set(f);const p={};v&8&&(p.mode=c[3]),v&16&&(p.orientation=c[4]),!s&&v&4&&(s=!0,p.value=c[2],U(()=>s=!1)),t.$set(p);const E={};v&3&&(E.snippet=(M=c[0])!=null?M:c[1]),v&4&&(E.value=c[2]),o.$set(E)},i(c){h||(i(e.$$.fragment,c),i(t.$$.fragment,c),i(a.$$.fragment,c),i(o.$$.fragment,c),h=!0)},o(c){u(e.$$.fragment,c),u(t.$$.fragment,c),u(a.$$.fragment,c),u(o.$$.fragment,c),h=!1},d(c){d(e,c),c&&w(r),d(t,c),c&&w(n),d(a,c),c&&w(l),d(o,c)}}}const nn=async({fetch:$})=>{const e=new URLSearchParams(location.search),{script:r="",snippet:t=""}=Object.fromEntries(e.entries());if(t){const a=await $(`/api/v4/snippets/${t}.json`);if(!a.ok){const o=await a.json();return{status:a.status,error:o.code}}return{props:{snippet:(await a.json()).data}}}else if(r)return{props:{script:Fe(r)}};const s=await $(`/api/v4/snippets/${Ue}.json`);if(!s.ok){const a=await s.json();return{status:s.status,error:a.code}}return{props:{fallback:(await s.json()).data}}};function Yt($,e,r){let t,s;x($,te,L=>r(17,t=L));var n,a,l;let{fallback:o}=e,{script:h}=e,{snippet:k}=e;const z=je({mobile:!0,tablet:!0});x($,z,L=>r(18,s=L));let j=I.split,c=s?D.vertical:D.horizontal,v=((a=(n=k==null?void 0:k.script)!==null&&n!==void 0?n:h)!==null&&a!==void 0?a:t)||((l=o==null?void 0:o.script)!==null&&l!==void 0?l:"");function f(L){navigator.clipboard.writeText(v)}function p(L){r(0,k=L.detail.snippet),r(2,v=k.script)}Pe(()=>{history.replaceState(null,"",`${location.origin}${location.pathname}`)});const E=()=>r(4,c=c===D.horizontal?D.vertical:D.horizontal),M=()=>r(3,j=I.split),Q=()=>r(3,j=I.first),W=()=>r(3,j=I.last);function A(L){v=L,r(2,v)}return $.$$set=L=>{"fallback"in L&&r(1,o=L.fallback),"script"in L&&r(8,h=L.script),"snippet"in L&&r(0,k=L.snippet)},$.$$.update=()=>{$.$$.dirty&4&&Re(te,t=v,t)},[k,o,v,j,c,z,f,p,h,E,M,Q,W,A]}class rn extends V{constructor(e){super();X(this,e,Yt,Wt,Z,{fallback:1,script:8,snippet:0})}}export{rn as default,nn as load};
