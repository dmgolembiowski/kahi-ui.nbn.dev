import{S as V,i as X,s as Z,Q as $e,R as M,U as N,w as _,x as m,y as g,V as q,q as u,o as p,B as d,Y as oe,Z as fe,k as S,m as C,g as b,d as w,ak as G,ao as Y,an as K,t as P,h as R,bf as ue,j as ce,bd as pe,l as O,ai as _e,n as J,p as y,aj as me,I,ap as ge,aq as de,ar as be,T as U,F as ie,at as we,bg as he,bh as ve,a3 as ke,a4 as Se,bi as Ce,W as ze,aW as Le,O as x,aI as je,v as Pe,ac as Re,a1 as Ee,bj as ee,aX as F,aY as Ie,bk as Te,ba as Oe,bl as Be,bb as Me,aQ as Ne,bc as qe}from"../../chunks/vendor-fb373247.js";import{FALLBACK_SNIPPET as Ue}from"./__layout.reset.svelte-7fac6ccd.js";import{c as Ae,d as Fe,s as te}from"../../chunks/preferences-01fb94c1.js";import{m as De}from"../../chunks/functional-5d85894f.js";import{s as Qe}from"../../chunks/AppNavigation-08f6d17d.js";import{d as We}from"../../chunks/functional-9bd4c5da.js";import{R as Ye,a as T,S as D}from"../../chunks/REPLSplit-f7a7b029.js";import"../../chunks/PageHeader-185ebfab.js";import"../../chunks/paths-4b3c6e7e.js";import"../../chunks/AppAnchor-654d35b7.js";import"../../chunks/preload-helper-ec9aa979.js";function He(l){let e;return{c(){e=P("Share Playground")},l(r){e=R(r,"Share Playground")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function Ke(l){let e;return{c(){e=P(l[1])},l(r){e=R(r,l[1])},m(r,t){b(r,e,t)},p(r,t){t&2&&ce(e,r[1])},d(r){r&&w(e)}}}function Ve(l){let e,r;return e=new ue({props:{is:"pre",$$slots:{default:[Ke]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&34&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function Xe(l){let e,r,t,s;return e=new Y({props:{$$slots:{default:[He]},$$scope:{ctx:l}}}),t=new K({props:{$$slots:{default:[Ve]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const $={};a&32&&($.$$scope={dirty:a,ctx:n}),e.$set($);const o={};a&34&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Ze(l){let e,r;return e=new G({props:{width:"prose",max_width:"viewport-75",$$slots:{default:[Xe]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&34&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function Ge(l){let e,r,t,s;return e=new oe({}),t=new fe({props:{$$slots:{default:[Ze]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const $={};a&34&&($.$$scope={dirty:a,ctx:n}),t.$set($)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Je(l){let e,r,t;function s(a){l[4](a)}let n={class:"share-prompt",logic_id:"share-prompt",dismissible:!0,$$slots:{default:[Ge]},$$scope:{ctx:l}};return l[0]!==void 0&&(n.logic_state=l[0]),e=new $e({props:n}),M.push(()=>N(e,"logic_state",s)),{c(){_(e.$$.fragment)},l(a){m(e.$$.fragment,a)},m(a,$){g(e,a,$),t=!0},p(a,[$]){const o={};$&34&&(o.$$scope={dirty:$,ctx:a}),!r&&$&1&&(r=!0,o.logic_state=a[0],q(()=>r=!1)),e.$set(o)},i(a){t||(u(e.$$.fragment,a),t=!0)},o(a){p(e.$$.fragment,a),t=!1},d(a){d(e,a)}}}function ye(l,e,r){let t,{logic_state:s=!1}=e,{snippet:n}=e,{value:a}=e;function $(o){s=o,r(0,s)}return l.$$set=o=>{"logic_state"in o&&r(0,s=o.logic_state),"snippet"in o&&r(2,n=o.snippet),"value"in o&&r(3,a=o.value)},l.$$.update=()=>{l.$$.dirty&12&&r(1,t=n&&n.script===a?`${location.origin}/playground?snippet=${n.identifier}`:`${location.origin}/playground?script=${Ae(a)}`)},[s,t,n,a,$]}class xe extends V{constructor(e){super();X(this,e,ye,Je,Z,{logic_state:0,snippet:2,value:3})}}function ne(l,e,r){const t=l.slice();t[14]=e[r];const s=t[3]?t[14].title.toLowerCase().includes(t[3]):!0;t[15]=s;const n=t[3]?St(t[14].snippets,t[3]):!0;t[16]=n;const a=!t[15]&&!t[16];return t[17]=a,t}function re(l,e,r){const t=l.slice();return t[20]=e[r],t}function se(l){let e,r,t={ctx:l,current:null,token:null,hasCatch:!1,pending:pt,then:tt,catch:et,value:13,blocks:[,,,]};return me(kt(),t),{c(){e=O(),t.block.c()},l(s){e=O(),t.block.l(s)},m(s,n){b(s,e,n),t.block.m(s,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e,r=!0},p(s,n){l=s,_e(t,l,n)},i(s){r||(u(t.block),r=!0)},o(s){for(let n=0;n<3;n+=1){const a=t.blocks[n];p(a)}r=!1},d(s){s&&w(e),t.block.d(s),t.token=null,t=null}}}function et(l){return{c:I,l:I,m:I,p:I,i:I,o:I,d:I}}function tt(l){let e,r,t,s,n,a;return e=new Y({props:{$$slots:{default:[nt]},$$scope:{ctx:l}}}),t=new K({props:{$$slots:{default:[rt]},$$scope:{ctx:l}}}),n=new K({props:{$$slots:{default:[ct]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment),s=S(),_(n.$$.fragment)},l($){m(e.$$.fragment,$),r=C($),m(t.$$.fragment,$),s=C($),m(n.$$.fragment,$)},m($,o){g(e,$,o),b($,r,o),g(t,$,o),b($,s,o),g(n,$,o),a=!0},p($,o){const h={};o&8388608&&(h.$$scope={dirty:o,ctx:$}),e.$set(h);const k={};o&8388626&&(k.$$scope={dirty:o,ctx:$}),t.$set(k);const z={};o&8388620&&(z.$$scope={dirty:o,ctx:$}),n.$set(z)},i($){a||(u(e.$$.fragment,$),u(t.$$.fragment,$),u(n.$$.fragment,$),a=!0)},o($){p(e.$$.fragment,$),p(t.$$.fragment,$),p(n.$$.fragment,$),a=!1},d($){d(e,$),$&&w(r),d(t,$),$&&w(s),d(n,$)}}}function nt(l){let e;return{c(){e=P("Snippets")},l(r){e=R(r,"Snippets")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function rt(l){let e,r,t,s;function n(o){l[6](o)}function a(o){l[7](o)}let $={placeholder:"Search snippets...",variation:"block"};return l[1]!==void 0&&($.element=l[1]),l[4]!==void 0&&($.value=l[4]),e=new ge({props:$}),M.push(()=>N(e,"element",n)),M.push(()=>N(e,"value",a)),{c(){_(e.$$.fragment)},l(o){m(e.$$.fragment,o)},m(o,h){g(e,o,h),s=!0},p(o,h){const k={};!r&&h&2&&(r=!0,k.element=o[1],q(()=>r=!1)),!t&&h&16&&(t=!0,k.value=o[4],q(()=>t=!1)),e.$set(k)},i(o){s||(u(e.$$.fragment,o),s=!0)},o(o){p(e.$$.fragment,o),s=!1},d(o){d(e,o)}}}function st(l){let e=l[14].title+"",r;return{c(){r=P(e)},l(t){r=R(t,e)},m(t,s){b(t,r,s)},p:I,d(t){t&&w(r)}}}function at(l){let e=l[20].title+"",r;return{c(){r=P(e)},l(t){r=R(t,e)},m(t,s){b(t,r,s)},p:I,d(t){t&&w(r)}}}function lt(l){let e;return{c(){e=P("Use Snippet")},l(r){e=R(r,"Use Snippet")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function $t(l){let e,r;function t(...s){return l[8](l[20],...s)}return e=new ze({props:{palette:"affirmative",sizing:"nano",$$slots:{default:[lt]},$$scope:{ctx:l}}}),e.$on("click",t),{c(){_(e.$$.fragment)},l(s){m(e.$$.fragment,s)},m(s,n){g(e,s,n),r=!0},p(s,n){l=s;const a={};n&8388608&&(a.$$scope={dirty:n,ctx:l}),e.$set(a)},i(s){r||(u(e.$$.fragment,s),r=!0)},o(s){p(e.$$.fragment,s),r=!1},d(s){d(e,s)}}}function ot(l){let e,r,t,s;return e=new Y({props:{$$slots:{default:[at]},$$scope:{ctx:l}}}),t=new Ce({props:{alignment_x:"stretch",$$slots:{default:[$t]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const $={};a&8388608&&($.$$scope={dirty:a,ctx:n}),e.$set($);const o={};a&8388608&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function ae(l,e){let r,t,s;return t=new G({props:{sizing:"nano",hidden:!e[15]&&e[3]?!e[20].title.toLowerCase().includes(e[3]):!1,$$slots:{default:[ot]},$$scope:{ctx:e}}}),{key:l,first:null,c(){r=O(),_(t.$$.fragment),this.h()},l(n){r=O(),m(t.$$.fragment,n),this.h()},h(){this.first=r},m(n,a){b(n,r,a),g(t,n,a),s=!0},p(n,a){e=n;const $={};a&8&&($.hidden=!e[15]&&e[3]?!e[20].title.toLowerCase().includes(e[3]):!1),a&8388608&&($.$$scope={dirty:a,ctx:e}),t.$set($)},i(n){s||(u(t.$$.fragment,n),s=!0)},o(n){p(t.$$.fragment,n),s=!1},d(n){n&&w(r),d(t,n)}}}function ft(l){let e=[],r=new Map,t,s,n=l[14].snippets;const a=$=>$[20].identifier;for(let $=0;$<n.length;$+=1){let o=re(l,n,$),h=a(o);r.set(h,e[$]=ae(h,o))}return{c(){for(let $=0;$<e.length;$+=1)e[$].c();t=S()},l($){for(let o=0;o<e.length;o+=1)e[o].l($);t=C($)},m($,o){for(let h=0;h<e.length;h+=1)e[h].m($,o);b($,t,o),s=!0},p($,o){o&40&&(n=$[14].snippets,J(),e=ke(e,o,a,1,$,n,r,t.parentNode,Se,ae,t,re),y())},i($){if(!s){for(let o=0;o<n.length;o+=1)u(e[o]);s=!0}},o($){for(let o=0;o<e.length;o+=1)p(e[o]);s=!1},d($){for(let o=0;o<e.length;o+=1)e[o].d($);$&&w(t)}}}function le(l){let e,r,t,s;return e=new U({props:{is:"strong",hidden:l[17],$$slots:{default:[st]},$$scope:{ctx:l}}}),t=new ve({props:{sizing:"small",spacing:"medium",hidden:l[17],$$slots:{default:[ft]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const $={};a&8&&($.hidden=n[17]),a&8388608&&($.$$scope={dirty:a,ctx:n}),e.$set($);const o={};a&8&&(o.hidden=n[17]),a&8388616&&(o.$$scope={dirty:a,ctx:n}),t.$set(o)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function it(l){let e,r,t=l[13],s=[];for(let a=0;a<t.length;a+=1)s[a]=le(ne(l,t,a));const n=a=>p(s[a],1,1,()=>{s[a]=null});return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=O()},l(a){for(let $=0;$<s.length;$+=1)s[$].l(a);e=O()},m(a,$){for(let o=0;o<s.length;o+=1)s[o].m(a,$);b(a,e,$),r=!0},p(a,$){if($&40){t=a[13];let o;for(o=0;o<t.length;o+=1){const h=ne(a,t,o);s[o]?(s[o].p(h,$),u(s[o],1)):(s[o]=le(h),s[o].c(),u(s[o],1),s[o].m(e.parentNode,e))}for(J(),o=t.length;o<s.length;o+=1)n(o);y()}},i(a){if(!r){for(let $=0;$<t.length;$+=1)u(s[$]);r=!0}},o(a){s=s.filter(Boolean);for(let $=0;$<s.length;$+=1)p(s[$]);r=!1},d(a){he(s,a),a&&w(e)}}}function ut(l){let e,r;return e=new ie({props:{spacing:"small",$$slots:{default:[it]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&8388616&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function ct(l){let e,r,t;function s(a){l[9](a)}let n={height:"massive",max_height:"viewport-50",$$slots:{default:[ut]},$$scope:{ctx:l}};return l[2]!==void 0&&(n.element=l[2]),e=new de({props:n}),M.push(()=>N(e,"element",s)),{c(){_(e.$$.fragment)},l(a){m(e.$$.fragment,a)},m(a,$){g(e,a,$),t=!0},p(a,$){const o={};$&8388616&&(o.$$scope={dirty:$,ctx:a}),!r&&$&4&&(r=!0,o.element=a[2],q(()=>r=!1)),e.$set(o)},i(a){t||(u(e.$$.fragment,a),t=!0)},o(a){p(e.$$.fragment,a),t=!1},d(a){d(e,a)}}}function pt(l){let e,r;return e=new Y({props:{$$slots:{default:[gt]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&8388608&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function _t(l){let e,r,t;return r=new we({}),{c(){e=P("Loading snippet index"),_(r.$$.fragment)},l(s){e=R(s,"Loading snippet index"),m(r.$$.fragment,s)},m(s,n){b(s,e,n),g(r,s,n),t=!0},i(s){t||(u(r.$$.fragment,s),t=!0)},o(s){p(r.$$.fragment,s),t=!1},d(s){s&&w(e),d(r,s)}}}function mt(l){let e,r;return e=new U({props:{is:"span",$$slots:{default:[_t]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&8388608&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function gt(l){let e,r;return e=new be({props:{width:"100",$$slots:{default:[mt]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&8388608&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function dt(l){let e,r,t=l[0]&&se(l);return{c(){t&&t.c(),e=O()},l(s){t&&t.l(s),e=O()},m(s,n){t&&t.m(s,n),b(s,e,n),r=!0},p(s,n){s[0]?t?(t.p(s,n),n&1&&u(t,1)):(t=se(s),t.c(),u(t,1),t.m(e.parentNode,e)):t&&(J(),p(t,1,1,()=>{t=null}),y())},i(s){r||(u(t),r=!0)},o(s){p(t),r=!1},d(s){t&&t.d(s),s&&w(e)}}}function bt(l){let e,r;return e=new G({props:{width:"prose",max_width:"viewport-75",$$slots:{default:[dt]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&8388639&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function wt(l){let e,r,t,s;return e=new oe({}),t=new fe({props:{$$slots:{default:[bt]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const $={};a&8388639&&($.$$scope={dirty:a,ctx:n}),t.$set($)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function ht(l){let e,r,t;function s(a){l[10](a)}let n={class:"snippet-prompt",logic_id:"snippet-prompt",dismissible:!0,$$slots:{default:[wt]},$$scope:{ctx:l}};return l[0]!==void 0&&(n.logic_state=l[0]),e=new $e({props:n}),M.push(()=>N(e,"logic_state",s)),{c(){_(e.$$.fragment)},l(a){m(e.$$.fragment,a)},m(a,$){g(e,a,$),t=!0},p(a,[$]){const o={};$&8388639&&(o.$$scope={dirty:$,ctx:a}),!r&&$&1&&(r=!0,o.logic_state=a[0],q(()=>r=!1)),e.$set(o)},i(a){t||(u(e.$$.fragment,a),t=!0)},o(a){p(e.$$.fragment,a),t=!1},d(a){d(e,a)}}}async function vt(){const l=await fetch("/api/v4/snippets.json"),{data:e}=await l.json();return e.map(r=>({title:r.title,snippets:r.snippets.sort((t,s)=>t.title.toLowerCase().includes("preview")?-1:s.title.toLowerCase().includes("preview")?1:0)}))}const kt=De(vt)[0];function St(l,e){return!!l.find(r=>r.title.toLowerCase().includes(e))}function Ct(l,e,r){const t=pe();let{logic_state:s=!1}=e,n,a,$="",o="";const h=We(c=>r(3,$=c),100);function k(c,E){t("snippet",{snippet:E}),r(0,s=!1)}function z(c){n=c,r(1,n)}function j(c){o=c,r(4,o)}const i=(c,E)=>k(E,c);function v(c){a=c,r(2,a)}function f(c){s=c,r(0,s)}return l.$$set=c=>{"logic_state"in c&&r(0,s=c.logic_state)},l.$$.update=()=>{if(l.$$.dirty&16&&h(o),l.$$.dirty&3&&s&&n&&n.focus(),l.$$.dirty&13&&s&&a){const c=a.querySelector(".text");c&&Qe(c,"center","smooth",a)}},[s,n,a,$,o,k,z,j,i,v,f]}class zt extends V{constructor(e){super();X(this,e,Ct,ht,Z,{logic_state:0})}}function Lt(l){let e,r,t;return e=new Ie({props:{size:"1em"}}),{c(){_(e.$$.fragment),r=P(`
                Snippets`)},l(s){m(e.$$.fragment,s),r=R(s,`
                Snippets`)},m(s,n){g(e,s,n),b(s,r,n),t=!0},p:I,i(s){t||(u(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){d(e,s),s&&w(r)}}}function jt(l){let e,r,t;return e=new Te({props:{size:"1em"}}),{c(){_(e.$$.fragment),r=P(`
                Share`)},l(s){m(e.$$.fragment,s),r=R(s,`
                Share`)},m(s,n){g(e,s,n),b(s,r,n),t=!0},p:I,i(s){t||(u(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){d(e,s),s&&w(r)}}}function Pt(l){let e,r,t;return e=new Oe({props:{size:"1em"}}),{c(){_(e.$$.fragment),r=P(`
                Copy`)},l(s){m(e.$$.fragment,s),r=R(s,`
                Copy`)},m(s,n){g(e,s,n),b(s,r,n),t=!0},p:I,i(s){t||(u(e.$$.fragment,s),t=!0)},o(s){p(e.$$.fragment,s),t=!1},d(s){d(e,s),s&&w(r)}}}function Rt(l){let e;return{c(){e=P("Rotate")},l(r){e=R(r,"Rotate")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function Et(l){let e,r,t,s;return e=new Be({props:{size:"1em"}}),t=new U({props:{is:"span",hidden:["mobile","tablet"],$$slots:{default:[Rt]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const $={};a&524288&&($.$$scope={dirty:a,ctx:n}),t.$set($)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function It(l){let e;return{c(){e=P("Split")},l(r){e=R(r,"Split")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function Tt(l){let e,r,t,s;return e=new Me({props:{size:"1em"}}),t=new U({props:{is:"span",hidden:["mobile","tablet"],$$slots:{default:[It]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const $={};a&524288&&($.$$scope={dirty:a,ctx:n}),t.$set($)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Ot(l){let e;return{c(){e=P("Editor")},l(r){e=R(r,"Editor")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function Bt(l){let e,r,t,s;return e=new Ne({props:{size:"1em"}}),t=new U({props:{is:"span",hidden:["mobile","tablet"],$$slots:{default:[Ot]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const $={};a&524288&&($.$$scope={dirty:a,ctx:n}),t.$set($)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function Mt(l){let e;return{c(){e=P("Render")},l(r){e=R(r,"Render")},m(r,t){b(r,e,t)},d(r){r&&w(e)}}}function Nt(l){let e,r,t,s;return e=new qe({props:{size:"1em"}}),t=new U({props:{is:"span",hidden:["mobile","tablet"],$$slots:{default:[Mt]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment)},l(n){m(e.$$.fragment,n),r=C(n),m(t.$$.fragment,n)},m(n,a){g(e,n,a),b(n,r,a),g(t,n,a),s=!0},p(n,a){const $={};a&524288&&($.$$scope={dirty:a,ctx:n}),t.$set($)},i(n){s||(u(e.$$.fragment,n),u(t.$$.fragment,n),s=!0)},o(n){p(e.$$.fragment,n),p(t.$$.fragment,n),s=!1},d(n){d(e,n),n&&w(r),d(t,n)}}}function qt(l){let e,r,t,s,n,a,$,o,h,k,z,j,i,v;return e=new ee({props:{for:"snippet-prompt",palette:"alert",$$slots:{default:[Lt]},$$scope:{ctx:l}}}),t=new ee({props:{for:"share-prompt",palette:"informative",$$slots:{default:[jt]},$$scope:{ctx:l}}}),n=new F({props:{palette:"affirmative",$$slots:{default:[Pt]},$$scope:{ctx:l}}}),n.$on("click",l[6]),$=new F({props:{palette:"inverse",$$slots:{default:[Et]},$$scope:{ctx:l}}}),$.$on("click",l[9]),h=new F({props:{active:l[3]===T.split,palette:"inverse",$$slots:{default:[Tt]},$$scope:{ctx:l}}}),h.$on("click",l[10]),z=new F({props:{active:l[3]===T.first,palette:"inverse",$$slots:{default:[Bt]},$$scope:{ctx:l}}}),z.$on("click",l[11]),i=new F({props:{active:l[3]===T.last,palette:"inverse",$$slots:{default:[Nt]},$$scope:{ctx:l}}}),i.$on("click",l[12]),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment),s=S(),_(n.$$.fragment),a=S(),_($.$$.fragment),o=S(),_(h.$$.fragment),k=S(),_(z.$$.fragment),j=S(),_(i.$$.fragment)},l(f){m(e.$$.fragment,f),r=C(f),m(t.$$.fragment,f),s=C(f),m(n.$$.fragment,f),a=C(f),m($.$$.fragment,f),o=C(f),m(h.$$.fragment,f),k=C(f),m(z.$$.fragment,f),j=C(f),m(i.$$.fragment,f)},m(f,c){g(e,f,c),b(f,r,c),g(t,f,c),b(f,s,c),g(n,f,c),b(f,a,c),g($,f,c),b(f,o,c),g(h,f,c),b(f,k,c),g(z,f,c),b(f,j,c),g(i,f,c),v=!0},p(f,c){const E={};c&524288&&(E.$$scope={dirty:c,ctx:f}),e.$set(E);const B={};c&524288&&(B.$$scope={dirty:c,ctx:f}),t.$set(B);const Q={};c&524288&&(Q.$$scope={dirty:c,ctx:f}),n.$set(Q);const W={};c&524288&&(W.$$scope={dirty:c,ctx:f}),$.$set(W);const A={};c&8&&(A.active=f[3]===T.split),c&524288&&(A.$$scope={dirty:c,ctx:f}),h.$set(A);const L={};c&8&&(L.active=f[3]===T.first),c&524288&&(L.$$scope={dirty:c,ctx:f}),z.$set(L);const H={};c&8&&(H.active=f[3]===T.last),c&524288&&(H.$$scope={dirty:c,ctx:f}),i.$set(H)},i(f){v||(u(e.$$.fragment,f),u(t.$$.fragment,f),u(n.$$.fragment,f),u($.$$.fragment,f),u(h.$$.fragment,f),u(z.$$.fragment,f),u(i.$$.fragment,f),v=!0)},o(f){p(e.$$.fragment,f),p(t.$$.fragment,f),p(n.$$.fragment,f),p($.$$.fragment,f),p(h.$$.fragment,f),p(z.$$.fragment,f),p(i.$$.fragment,f),v=!1},d(f){d(e,f),f&&w(r),d(t,f),f&&w(s),d(n,f),f&&w(a),d($,f),f&&w(o),d(h,f),f&&w(k),d(z,f),f&&w(j),d(i,f)}}}function Ut(l){let e,r;return e=new Ee({props:{orientation:"horizontal",sizing:"tiny",$$slots:{default:[qt]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&524312&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function At(l){let e,r;return e=new ie({props:{alignment_x:["center","desktop:right","widescreen:right"],orientation:"horizontal",$$slots:{default:[Ut]},$$scope:{ctx:l}}}),{c(){_(e.$$.fragment)},l(t){m(e.$$.fragment,t)},m(t,s){g(e,t,s),r=!0},p(t,s){const n={};s&524312&&(n.$$scope={dirty:s,ctx:t}),e.$set(n)},i(t){r||(u(e.$$.fragment,t),r=!0)},o(t){p(e.$$.fragment,t),r=!1},d(t){d(e,t)}}}function Ft(l){var j;let e,r,t,s,n,a,$,o,h;e=new Le({props:{padding:"small",$$slots:{default:[At]},$$scope:{ctx:l}}});function k(i){l[13](i)}let z={mode:l[3],orientation:l[4]};return l[2]!==void 0&&(z.value=l[2]),t=new Ye({props:z}),M.push(()=>N(t,"value",k)),a=new zt({}),a.$on("snippet",l[7]),o=new xe({props:{snippet:(j=l[0])!=null?j:l[1],value:l[2]}}),{c(){_(e.$$.fragment),r=S(),_(t.$$.fragment),n=S(),_(a.$$.fragment),$=S(),_(o.$$.fragment)},l(i){m(e.$$.fragment,i),r=C(i),m(t.$$.fragment,i),n=C(i),m(a.$$.fragment,i),$=C(i),m(o.$$.fragment,i)},m(i,v){g(e,i,v),b(i,r,v),g(t,i,v),b(i,n,v),g(a,i,v),b(i,$,v),g(o,i,v),h=!0},p(i,[v]){var B;const f={};v&524312&&(f.$$scope={dirty:v,ctx:i}),e.$set(f);const c={};v&8&&(c.mode=i[3]),v&16&&(c.orientation=i[4]),!s&&v&4&&(s=!0,c.value=i[2],q(()=>s=!1)),t.$set(c);const E={};v&3&&(E.snippet=(B=i[0])!=null?B:i[1]),v&4&&(E.value=i[2]),o.$set(E)},i(i){h||(u(e.$$.fragment,i),u(t.$$.fragment,i),u(a.$$.fragment,i),u(o.$$.fragment,i),h=!0)},o(i){p(e.$$.fragment,i),p(t.$$.fragment,i),p(a.$$.fragment,i),p(o.$$.fragment,i),h=!1},d(i){d(e,i),i&&w(r),d(t,i),i&&w(n),d(a,i),i&&w($),d(o,i)}}}const xt=async({fetch:l})=>{const e=new URLSearchParams(location.search),{script:r="",snippet:t=""}=Object.fromEntries(e.entries());if(t){const a=await l(`/api/v4/snippets/${t}.json`);if(!a.ok){const o=await a.json();return{status:a.status,error:o.code}}return{props:{snippet:(await a.json()).data}}}else if(r)return{props:{script:Fe(r)}};const s=await l(`/api/v4/snippets/${Ue}.json`);if(!s.ok){const a=await s.json();return{status:s.status,error:a.code}}return{props:{fallback:(await s.json()).data}}};function Dt(l,e,r){let t,s;x(l,te,L=>r(17,t=L));var n,a,$;let{fallback:o}=e,{script:h}=e,{snippet:k}=e;const z=je({mobile:!0,tablet:!0});x(l,z,L=>r(18,s=L));let j=T.split,i=s?D.vertical:D.horizontal,v=((a=(n=k==null?void 0:k.script)!==null&&n!==void 0?n:h)!==null&&a!==void 0?a:t)||(($=o==null?void 0:o.script)!==null&&$!==void 0?$:"");function f(L){navigator.clipboard.writeText(v)}function c(L){r(0,k=L.detail.snippet),r(2,v=k.script)}Pe(()=>{history.replaceState(null,"",`${location.origin}${location.pathname}`)});const E=()=>r(4,i=i===D.horizontal?D.vertical:D.horizontal),B=()=>r(3,j=T.split),Q=()=>r(3,j=T.first),W=()=>r(3,j=T.last);function A(L){v=L,r(2,v)}return l.$$set=L=>{"fallback"in L&&r(1,o=L.fallback),"script"in L&&r(8,h=L.script),"snippet"in L&&r(0,k=L.snippet)},l.$$.update=()=>{l.$$.dirty&4&&Re(te,t=v,t)},[k,o,v,j,i,z,f,c,h,E,B,Q,W,A]}class en extends V{constructor(e){super();X(this,e,Dt,Ft,Z,{fallback:1,script:8,snippet:0})}}export{en as default,xt as load};
