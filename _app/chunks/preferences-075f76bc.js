import{a_ as b,D as S}from"./vendor-1d888328.js";/*!
 LZ-UTF8 v0.5.8

 Copyright (c) 2021, Rotem Dan
 Released under the MIT license.

 Build date: 2021-02-24 

 Please report any issue at https://github.com/rotemdan/lzutf8.js/issues
*/(function(t){t.runningInNodeJS=function(){return typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"},t.runningInMainNodeJSModule=function(){return t.runningInNodeJS()&&require.main===module},t.commonJSAvailable=function(){return typeof module=="object"&&typeof module.exports=="object"},t.runningInWebWorker=function(){return typeof window=="undefined"&&typeof self=="object"&&typeof self.addEventListener=="function"&&typeof self.close=="function"},t.runningInNodeChildProcess=function(){return t.runningInNodeJS()&&typeof process.send=="function"},t.runningInNullOrigin=function(){return typeof window!="object"||typeof window.location!="object"||typeof document!="object"?!1:document.location.protocol!=="http:"&&document.location.protocol!=="https:"},t.webWorkersAvailable=function(){return!(typeof Worker!="function"||t.runningInNullOrigin()||t.runningInNodeJS()||navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Android 4.3")>=0)},t.log=function(s,r){r===void 0&&(r=!1),typeof console=="object"&&(console.log(s),r&&typeof document=="object"&&(document.body.innerHTML+=s+"<br/>"))},t.createErrorMessage=function(s,r){if(r===void 0&&(r="Unhandled exception"),s==null)return r;if(r+=": ",typeof s.content=="object"){if(t.runningInNodeJS())return r+s.content.stack;var e=JSON.stringify(s.content);return e!=="{}"?r+e:r+s.content}else return typeof s.content=="string"?r+s.content:r+s},t.printExceptionAndStackTraceToConsole=function(s,r){r===void 0&&(r="Unhandled exception"),t.log(t.createErrorMessage(s,r))},t.getGlobalObject=function(){return typeof global=="object"?global:typeof window=="object"?window:typeof self=="object"?self:{}},t.toString=Object.prototype.toString,t.commonJSAvailable()&&(module.exports=t)})(p||(p={}));(function(t){if(typeof Uint8Array=="function"&&new Uint8Array(1).subarray(1).byteLength!==0){var s=function(n,i){var u=function(f,c,d){return f<c?c:f>d?d:f};n=n|0,i=i|0,arguments.length<1&&(n=0),arguments.length<2&&(i=this.length),n<0&&(n=this.length+n),i<0&&(i=this.length+i),n=u(n,0,this.length),i=u(i,0,this.length);var a=i-n;return a<0&&(a=0),new this.constructor(this.buffer,this.byteOffset+n*this.BYTES_PER_ELEMENT,a)},r=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],e=void 0;if(typeof window=="object"?e=window:typeof self=="object"&&(e=self),e!==void 0)for(var o=0;o<r.length;o++)e[r[o]]&&(e[r[o]].prototype.subarray=s)}})();(function(t){var s=function(){function r(){}return r.compressAsync=function(e,o,n){var i=new t.Timer,u=new t.Compressor;if(!n)throw new TypeError("compressAsync: No callback argument given");if(typeof e=="string")e=t.encodeUTF8(e);else if(e==null||!(e instanceof Uint8Array)){n(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));return}var a=t.ArrayTools.splitByteArray(e,o.blockSize),f=[],c=function(d){if(d<a.length){var h=void 0;try{h=u.compressBlock(a[d])}catch(v){n(void 0,v);return}f.push(h),i.getElapsedTime()<=20?c(d+1):(t.enqueueImmediate(function(){return c(d+1)}),i.restart())}else{var m=t.ArrayTools.concatUint8Arrays(f);t.enqueueImmediate(function(){var v;try{v=t.CompressionCommon.encodeCompressedBytes(m,o.outputEncoding)}catch(l){n(void 0,l);return}t.enqueueImmediate(function(){return n(v)})})}};t.enqueueImmediate(function(){return c(0)})},r.createCompressionStream=function(){var e=new t.Compressor,o=void 0,n=new o.Transform({decodeStrings:!0,highWaterMark:65536});return n._transform=function(i,u,a){var f;try{f=t.BufferTools.uint8ArrayToBuffer(e.compressBlock(t.BufferTools.bufferToUint8Array(i)))}catch(c){n.emit("error",c);return}n.push(f),a()},n},r}();t.AsyncCompressor=s})(p||(p={}));(function(t){var s=function(){function r(){}return r.decompressAsync=function(e,o,n){if(!n)throw new TypeError("decompressAsync: No callback argument given");var i=new t.Timer;try{e=t.CompressionCommon.decodeCompressedBytes(e,o.inputEncoding)}catch(d){n(void 0,d);return}var u=new t.Decompressor,a=t.ArrayTools.splitByteArray(e,o.blockSize),f=[],c=function(d){if(d<a.length){var h=void 0;try{h=u.decompressBlock(a[d])}catch(v){n(void 0,v);return}f.push(h),i.getElapsedTime()<=20?c(d+1):(t.enqueueImmediate(function(){return c(d+1)}),i.restart())}else{var m=t.ArrayTools.concatUint8Arrays(f);t.enqueueImmediate(function(){var v;try{v=t.CompressionCommon.encodeDecompressedBytes(m,o.outputEncoding)}catch(l){n(void 0,l);return}t.enqueueImmediate(function(){return n(v)})})}};t.enqueueImmediate(function(){return c(0)})},r.createDecompressionStream=function(){var e=new t.Decompressor,o=void 0,n=new o.Transform({decodeStrings:!0,highWaterMark:65536});return n._transform=function(i,u,a){var f;try{f=t.BufferTools.uint8ArrayToBuffer(e.decompressBlock(t.BufferTools.bufferToUint8Array(i)))}catch(c){n.emit("error",c);return}n.push(f),a()},n},r}();t.AsyncDecompressor=s})(p||(p={}));(function(t){var s;(function(r){r.compressAsync=function(e,o,n){if(o.inputEncoding=="ByteArray"&&!(e instanceof Uint8Array)){n(void 0,new TypeError("compressAsync: input is not a Uint8Array"));return}var i={token:Math.random().toString(),type:"compress",data:e,inputEncoding:o.inputEncoding,outputEncoding:o.outputEncoding},u=function(a){var f=a.data;!f||f.token!=i.token||(r.globalWorker.removeEventListener("message",u),f.type=="error"?n(void 0,new Error(f.error)):n(f.data))};r.globalWorker.addEventListener("message",u),r.globalWorker.postMessage(i,[])},r.decompressAsync=function(e,o,n){var i={token:Math.random().toString(),type:"decompress",data:e,inputEncoding:o.inputEncoding,outputEncoding:o.outputEncoding},u=function(a){var f=a.data;!f||f.token!=i.token||(r.globalWorker.removeEventListener("message",u),f.type=="error"?n(void 0,new Error(f.error)):n(f.data))};r.globalWorker.addEventListener("message",u),r.globalWorker.postMessage(i,[])},r.installWebWorkerIfNeeded=function(){typeof self=="object"&&self.document===void 0&&self.addEventListener!=null&&(self.addEventListener("message",function(e){var o=e.data;if(o.type=="compress"){var n=void 0;try{n=t.compress(o.data,{outputEncoding:o.outputEncoding})}catch(a){self.postMessage({token:o.token,type:"error",error:t.createErrorMessage(a)},[]);return}var i={token:o.token,type:"compressionResult",data:n,encoding:o.outputEncoding};i.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(i,[i.data.buffer]):self.postMessage(i,[])}else if(o.type=="decompress"){var u=void 0;try{u=t.decompress(o.data,{inputEncoding:o.inputEncoding,outputEncoding:o.outputEncoding})}catch(f){self.postMessage({token:o.token,type:"error",error:t.createErrorMessage(f)},[]);return}var i={token:o.token,type:"decompressionResult",data:u,encoding:o.outputEncoding};i.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(i,[i.data.buffer]):self.postMessage(i,[])}}),self.addEventListener("error",function(e){t.log(t.createErrorMessage(e.error,"Unexpected LZUTF8 WebWorker exception"))}))},r.createGlobalWorkerIfNeeded=function(){if(r.globalWorker)return!0;if(!t.webWorkersAvailable())return!1;if(!r.scriptURI&&typeof document=="object"){var e=document.getElementById("lzutf8");e!=null&&(r.scriptURI=e.getAttribute("src")||void 0)}return r.scriptURI?(r.globalWorker=new Worker(r.scriptURI),!0):!1},r.terminate=function(){r.globalWorker&&(r.globalWorker.terminate(),r.globalWorker=void 0)}})(s=t.WebWorker||(t.WebWorker={})),s.installWebWorkerIfNeeded()})(p||(p={}));(function(t){var s=function(){function r(e,o,n){this.container=e,this.startPosition=o,this.length=n}return r.prototype.get=function(e){return this.container[this.startPosition+e]},r.prototype.getInReversedOrder=function(e){return this.container[this.startPosition+this.length-1-e]},r.prototype.set=function(e,o){this.container[this.startPosition+e]=o},r}();t.ArraySegment=s})(p||(p={}));(function(t){(function(s){s.copyElements=function(r,e,o,n,i){for(;i--;)o[n++]=r[e++]},s.zeroElements=function(r,e,o){for(;o--;)r[e++]=0},s.countNonzeroValuesInArray=function(r){for(var e=0,o=0;o<r.length;o++)r[o]&&e++;return e},s.truncateStartingElements=function(r,e){if(r.length<=e)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var o=r.length-e,n=0;n<e;n++)r[n]=r[o+n];r.length=e},s.doubleByteArrayCapacity=function(r){var e=new Uint8Array(r.length*2);return e.set(r),e},s.concatUint8Arrays=function(r){for(var e=0,o=0,n=r;o<n.length;o++){var i=n[o];e+=i.length}for(var u=new Uint8Array(e),a=0,f=0,c=r;f<c.length;f++){var i=c[f];u.set(i,a),a+=i.length}return u},s.splitByteArray=function(r,e){for(var o=[],n=0;n<r.length;){var i=Math.min(e,r.length-n);o.push(r.subarray(n,n+i)),n+=i}return o}})(t.ArrayTools||(t.ArrayTools={}))})(p||(p={}));(function(t){(function(s){s.convertToUint8ArrayIfNeeded=function(r){return typeof Buffer=="function"&&Buffer.isBuffer(r)?s.bufferToUint8Array(r):r},s.uint8ArrayToBuffer=function(r){if(Buffer.prototype instanceof Uint8Array){var e=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);return Object.setPrototypeOf(e,Buffer.prototype),e}else{for(var o=r.length,n=new Buffer(o),i=0;i<o;i++)n[i]=r[i];return n}},s.bufferToUint8Array=function(r){if(Buffer.prototype instanceof Uint8Array)return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);for(var e=r.length,o=new Uint8Array(e),n=0;n<e;n++)o[n]=r[n];return o}})(t.BufferTools||(t.BufferTools={}))})(p||(p={}));(function(t){(function(s){s.getCroppedBuffer=function(r,e,o,n){n===void 0&&(n=0);var i=new Uint8Array(o+n);return i.set(r.subarray(e,e+o)),i},s.getCroppedAndAppendedByteArray=function(r,e,o,n){return t.ArrayTools.concatUint8Arrays([r.subarray(e,e+o),n])},s.detectCompressionSourceEncoding=function(r){if(r==null)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if(typeof r=="string")return"String";if(r instanceof Uint8Array||typeof Buffer=="function"&&Buffer.isBuffer(r))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},s.encodeCompressedBytes=function(r,e){switch(e){case"ByteArray":return r;case"Buffer":return t.BufferTools.uint8ArrayToBuffer(r);case"Base64":return t.encodeBase64(r);case"BinaryString":return t.encodeBinaryString(r);case"StorageBinaryString":return t.encodeStorageBinaryString(r);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},s.decodeCompressedBytes=function(r,e){if(e==null)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(e){case"ByteArray":case"Buffer":var o=t.BufferTools.convertToUint8ArrayIfNeeded(r);if(!(o instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return o;case"Base64":if(typeof r!="string")throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return t.decodeBase64(r);case"BinaryString":if(typeof r!="string")throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return t.decodeBinaryString(r);case"StorageBinaryString":if(typeof r!="string")throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return t.decodeStorageBinaryString(r);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '"+e+"'")}},s.encodeDecompressedBytes=function(r,e){switch(e){case"String":return t.decodeUTF8(r);case"ByteArray":return r;case"Buffer":if(typeof Buffer!="function")throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return t.BufferTools.uint8ArrayToBuffer(r);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}})(t.CompressionCommon||(t.CompressionCommon={}))})(p||(p={}));(function(t){var s;(function(r){var e=[],o;r.enqueueImmediate=function(n){e.push(n),e.length===1&&o()},r.initializeScheduler=function(){var n=function(){for(var f=0,c=e;f<c.length;f++){var d=c[f];try{d.call(void 0)}catch(h){t.printExceptionAndStackTraceToConsole(h,"enqueueImmediate exception")}}e.length=0};if(t.runningInNodeJS()&&(o=function(){return setImmediate(function(){return n()})}),typeof window=="object"&&typeof window.addEventListener=="function"&&typeof window.postMessage=="function"){var i="enqueueImmediate-"+Math.random().toString();window.addEventListener("message",function(f){f.data===i&&n()});var u;t.runningInNullOrigin()?u="*":u=window.location.href,o=function(){return window.postMessage(i,u)}}else if(typeof MessageChannel=="function"&&typeof MessagePort=="function"){var a=new MessageChannel;a.port1.onmessage=function(){return n()},o=function(){return a.port2.postMessage(0)}}else o=function(){return setTimeout(function(){return n()},0)}},r.initializeScheduler()})(s=t.EventLoop||(t.EventLoop={})),t.enqueueImmediate=function(r){return s.enqueueImmediate(r)}})(p||(p={}));(function(t){(function(s){s.override=function(r,e){return s.extend(r,e)},s.extend=function(r,e){if(r==null)throw new TypeError("obj is null or undefined");if(typeof r!="object")throw new TypeError("obj is not an object");if(e==null&&(e={}),typeof e!="object")throw new TypeError("newProperties is not an object");if(e!=null)for(var o in e)r[o]=e[o];return r}})(t.ObjectTools||(t.ObjectTools={}))})(p||(p={}));(function(t){t.getRandomIntegerInRange=function(s,r){return s+Math.floor(Math.random()*(r-s))},t.getRandomUTF16StringOfLength=function(s){for(var r="",e=0;e<s;e++){var o=void 0;do o=t.getRandomIntegerInRange(0,1114111+1);while(o>=55296&&o<=57343);r+=t.Encoding.CodePoint.decodeToString(o)}return r}})(p||(p={}));(function(t){var s=function(){function r(e){e===void 0&&(e=1024),this.outputBufferCapacity=e,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}return r.prototype.appendCharCode=function(e){this.outputBuffer[this.outputPosition++]=e,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},r.prototype.appendCharCodes=function(e){for(var o=0,n=e.length;o<n;o++)this.appendCharCode(e[o])},r.prototype.appendString=function(e){for(var o=0,n=e.length;o<n;o++)this.appendCharCode(e.charCodeAt(o))},r.prototype.appendCodePoint=function(e){if(e<=65535)this.appendCharCode(e);else if(e<=1114111)this.appendCharCode(55296+(e-65536>>>10)),this.appendCharCode(56320+(e-65536&1023));else throw new Error("appendCodePoint: A code point of "+e+" cannot be encoded in UTF-16")},r.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},r.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},r}();t.StringBuilder=s})(p||(p={}));(function(t){var s=function(){function r(){this.restart()}return r.prototype.restart=function(){this.startTime=r.getTimestamp()},r.prototype.getElapsedTime=function(){return r.getTimestamp()-this.startTime},r.prototype.getElapsedTimeAndRestart=function(){var e=this.getElapsedTime();return this.restart(),e},r.prototype.logAndRestart=function(e,o){o===void 0&&(o=!0);var n=this.getElapsedTime(),i=e+": "+n.toFixed(3)+"ms";return t.log(i,o),this.restart(),n},r.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},r.getMicrosecondTimestamp=function(){return Math.floor(r.getTimestamp()*1e3)},r.createGlobalTimestampFunction=function(){if(typeof process=="object"&&typeof process.hrtime=="function"){var e=0;this.timestampFunc=function(){var u=process.hrtime(),a=u[0]*1e3+u[1]/1e6;return e+a},e=Date.now()-this.timestampFunc()}else if(typeof chrome=="object"&&chrome.Interval){var o=Date.now(),n=new chrome.Interval;n.start(),this.timestampFunc=function(){return o+n.microseconds()/1e3}}else if(typeof performance=="object"&&performance.now){var i=Date.now()-performance.now();this.timestampFunc=function(){return i+performance.now()}}else Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return new Date().getTime()}},r}();t.Timer=s})(p||(p={}));(function(t){var s=function(){function r(e){e===void 0&&(e=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,e&&typeof Uint32Array=="function"?this.prefixHashTable=new t.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new t.CompressorSimpleHashTable(this.PrefixHashTableSize)}return r.prototype.compressBlock=function(e){if(e==null)throw new TypeError("compressBlock: undefined or null input received");return typeof e=="string"&&(e=t.encodeUTF8(e)),e=t.BufferTools.convertToUint8ArrayIfNeeded(e),this.compressUtf8Block(e)},r.prototype.compressUtf8Block=function(e){if(!e||e.length==0)return new Uint8Array(0);var o=this.cropAndAddNewBytesToInputBuffer(e),n=this.inputBuffer,i=this.inputBuffer.length;this.outputBuffer=new Uint8Array(e.length),this.outputBufferPosition=0;for(var u=0,a=o;a<i;a++){var f=n[a],c=a<u;if(a>i-this.MinimumSequenceLength){c||this.outputRawByte(f);continue}var d=this.getBucketIndexForPrefix(a);if(!c){var h=this.findLongestMatch(a,d);h!=null&&(this.outputPointerBytes(h.length,h.distance),u=a+h.length,c=!0)}c||this.outputRawByte(f);var m=this.inputBufferStreamOffset+a;this.prefixHashTable.addValueToBucket(d,m)}return this.outputBuffer.subarray(0,this.outputBufferPosition)},r.prototype.findLongestMatch=function(e,o){var n=this.prefixHashTable.getArraySegmentForBucketIndex(o,this.reusableArraySegmentObject);if(n==null)return null;for(var i=this.inputBuffer,u,a=0,f=0;f<n.length;f++){var c=n.getInReversedOrder(f)-this.inputBufferStreamOffset,d=e-c,h=void 0;if(u===void 0?h=this.MinimumSequenceLength-1:u<128&&d>=128?h=a+(a>>>1):h=a,d>this.MaximumMatchDistance||h>=this.MaximumSequenceLength||e+h>=i.length)break;if(i[c+h]===i[e+h]){for(var m=0;;m++)if(e+m===i.length||i[c+m]!==i[e+m]){m>h&&(u=d,a=m);break}else if(m===this.MaximumSequenceLength)return{distance:d,length:this.MaximumSequenceLength}}}return u!==void 0?{distance:u,length:a}:null},r.prototype.getBucketIndexForPrefix=function(e){return(this.inputBuffer[e]*7880599+this.inputBuffer[e+1]*39601+this.inputBuffer[e+2]*199+this.inputBuffer[e+3])%this.PrefixHashTableSize},r.prototype.outputPointerBytes=function(e,o){o<128?(this.outputRawByte(192|e),this.outputRawByte(o)):(this.outputRawByte(224|e),this.outputRawByte(o>>>8),this.outputRawByte(o&255))},r.prototype.outputRawByte=function(e){this.outputBuffer[this.outputBufferPosition++]=e},r.prototype.cropAndAddNewBytesToInputBuffer=function(e){if(this.inputBuffer===void 0)return this.inputBuffer=e,0;var o=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),n=this.inputBuffer.length-o;return this.inputBuffer=t.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,n,o,e),this.inputBufferStreamOffset+=n,o},r}();t.Compressor=s})(p||(p={}));(function(t){var s=function(){function r(e){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(e*2),this.storage=new Uint32Array(e*2),this.storageIndex=1}return r.prototype.addValueToBucket=function(e,o){e<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var n=this.bucketLocators[e],i;if(n===0)n=this.storageIndex,i=1,this.storage[this.storageIndex]=o,this.storageIndex+=this.minimumBucketCapacity;else{i=this.bucketLocators[e+1],i===this.maximumBucketCapacity-1&&(i=this.truncateBucketToNewerElements(n,i,this.maximumBucketCapacity/2));var u=n+i;this.storage[u]===0?(this.storage[u]=o,u===this.storageIndex&&(this.storageIndex+=i)):(t.ArrayTools.copyElements(this.storage,n,this.storage,this.storageIndex,i),n=this.storageIndex,this.storageIndex+=i,this.storage[this.storageIndex++]=o,this.storageIndex+=i),i++}this.bucketLocators[e]=n,this.bucketLocators[e+1]=i},r.prototype.truncateBucketToNewerElements=function(e,o,n){var i=e+o-n;return t.ArrayTools.copyElements(this.storage,i,this.storage,e,n),t.ArrayTools.zeroElements(this.storage,e+n,o-n),n},r.prototype.compact=function(){var e=this.bucketLocators,o=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var n=0;n<e.length;n+=2){var i=e[n+1];i!==0&&(this.bucketLocators[n]=this.storageIndex,this.bucketLocators[n+1]=i,this.storageIndex+=Math.max(Math.min(i*2,this.maximumBucketCapacity),this.minimumBucketCapacity))}this.storage=new Uint32Array(this.storageIndex*8);for(var n=0;n<e.length;n+=2){var u=e[n];if(u!==0){var a=this.bucketLocators[n],f=this.bucketLocators[n+1];t.ArrayTools.copyElements(o,u,this.storage,a,f)}}},r.prototype.getArraySegmentForBucketIndex=function(e,o){e<<=1;var n=this.bucketLocators[e];return n===0?null:(o===void 0&&(o=new t.ArraySegment(this.storage,n,this.bucketLocators[e+1])),o)},r.prototype.getUsedBucketCount=function(){return Math.floor(t.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},r.prototype.getTotalElementCount=function(){for(var e=0,o=0;o<this.bucketLocators.length;o+=2)e+=this.bucketLocators[o+1];return e},r}();t.CompressorCustomHashTable=s})(p||(p={}));(function(t){var s=function(){function r(e){this.maximumBucketCapacity=64,this.buckets=new Array(e)}return r.prototype.addValueToBucket=function(e,o){var n=this.buckets[e];n===void 0?this.buckets[e]=[o]:(n.length===this.maximumBucketCapacity-1&&t.ArrayTools.truncateStartingElements(n,this.maximumBucketCapacity/2),n.push(o))},r.prototype.getArraySegmentForBucketIndex=function(e,o){var n=this.buckets[e];return n===void 0?null:(o===void 0&&(o=new t.ArraySegment(n,0,n.length)),o)},r.prototype.getUsedBucketCount=function(){return t.ArrayTools.countNonzeroValuesInArray(this.buckets)},r.prototype.getTotalElementCount=function(){for(var e=0,o=0;o<this.buckets.length;o++)this.buckets[o]!==void 0&&(e+=this.buckets[o].length);return e},r}();t.CompressorSimpleHashTable=s})(p||(p={}));(function(t){var s=function(){function r(){this.MaximumMatchDistance=32767,this.outputPosition=0}return r.prototype.decompressBlockToString=function(e){return e=t.BufferTools.convertToUint8ArrayIfNeeded(e),t.decodeUTF8(this.decompressBlock(e))},r.prototype.decompressBlock=function(e){this.inputBufferRemainder&&(e=t.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,e]),this.inputBufferRemainder=void 0);for(var o=this.cropOutputBufferToWindowAndInitialize(Math.max(e.length*4,1024)),n=0,i=e.length;n<i;n++){var u=e[n];if(u>>>6!=3){this.outputByte(u);continue}var a=u>>>5;if(n==i-1||n==i-2&&a==7){this.inputBufferRemainder=e.subarray(n);break}if(e[n+1]>>>7===1)this.outputByte(u);else{var f=u&31,c=void 0;a==6?(c=e[n+1],n+=1):(c=e[n+1]<<8|e[n+2],n+=2);for(var d=this.outputPosition-c,h=0;h<f;h++)this.outputByte(this.outputBuffer[d+h])}}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),t.CompressionCommon.getCroppedBuffer(this.outputBuffer,o,this.outputPosition-o)},r.prototype.outputByte=function(e){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=t.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=e},r.prototype.cropOutputBufferToWindowAndInitialize=function(e){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(e),0;var o=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=t.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-o,o,e),this.outputPosition=o,this.outputBufferRemainder){for(var n=0;n<this.outputBufferRemainder.length;n++)this.outputByte(this.outputBufferRemainder[n]);this.outputBufferRemainder=void 0}return o},r.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var e=1;e<=4&&this.outputPosition-e>=0;e++){var o=this.outputBuffer[this.outputPosition-e];if(e<4&&o>>>3===30||e<3&&o>>>4===14||e<2&&o>>>5===6){this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-e,this.outputPosition),this.outputPosition-=e;return}}},r}();t.Decompressor=s})(p||(p={}));(function(t){(function(s){(function(r){var e=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),o=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]),n="=",i=61;r.encode=function(u){return!u||u.length==0?"":t.runningInNodeJS()?t.BufferTools.uint8ArrayToBuffer(u).toString("base64"):r.encodeWithJS(u)},r.decode=function(u){return u?t.runningInNodeJS()?t.BufferTools.bufferToUint8Array(Buffer.from(u,"base64")):r.decodeWithJS(u):new Uint8Array(0)},r.encodeWithJS=function(u,a){if(a===void 0&&(a=!0),!u||u.length==0)return"";for(var f=e,c=new t.StringBuilder,d,h=0,m=u.length;h<m;h+=3)h<=m-3?(d=u[h]<<16|u[h+1]<<8|u[h+2],c.appendCharCode(f[d>>>18&63]),c.appendCharCode(f[d>>>12&63]),c.appendCharCode(f[d>>>6&63]),c.appendCharCode(f[d&63]),d=0):h===m-2?(d=u[h]<<16|u[h+1]<<8,c.appendCharCode(f[d>>>18&63]),c.appendCharCode(f[d>>>12&63]),c.appendCharCode(f[d>>>6&63]),a&&c.appendCharCode(i)):h===m-1&&(d=u[h]<<16,c.appendCharCode(f[d>>>18&63]),c.appendCharCode(f[d>>>12&63]),a&&(c.appendCharCode(i),c.appendCharCode(i)));return c.getOutputString()},r.decodeWithJS=function(u,a){if(!u||u.length==0)return new Uint8Array(0);var f=u.length%4;if(f===1)throw new Error("Invalid Base64 string: length % 4 == 1");f===2?u+=n+n:f===3&&(u+=n),a||(a=new Uint8Array(u.length));for(var c=0,d=u.length,h=0;h<d;h+=4){var m=o[u.charCodeAt(h)]<<18|o[u.charCodeAt(h+1)]<<12|o[u.charCodeAt(h+2)]<<6|o[u.charCodeAt(h+3)];a[c++]=m>>>16&255,a[c++]=m>>>8&255,a[c++]=m&255}return u.charCodeAt(d-1)==i&&c--,u.charCodeAt(d-2)==i&&c--,a.subarray(0,c)}})(s.Base64||(s.Base64={}))})(t.Encoding||(t.Encoding={}))})(p||(p={}));(function(t){(function(s){(function(r){r.encode=function(e){if(e==null)throw new TypeError("BinaryString.encode: undefined or null input received");if(e.length===0)return"";for(var o=e.length,n=new t.StringBuilder,i=0,u=1,a=0;a<o;a+=2){var f=void 0;a==o-1?f=e[a]<<8:f=e[a]<<8|e[a+1],n.appendCharCode(i<<16-u|f>>>u),i=f&(1<<u)-1,u===15?(n.appendCharCode(i),i=0,u=1):u+=1,a>=o-2&&n.appendCharCode(i<<16-u)}return n.appendCharCode(32768|o%2),n.getOutputString()},r.decode=function(e){if(typeof e!="string")throw new TypeError("BinaryString.decode: invalid input type");if(e=="")return new Uint8Array(0);for(var o=new Uint8Array(e.length*3),n=0,i=function(d){o[n++]=d>>>8,o[n++]=d&255},u=0,a=0,f=0;f<e.length;f++){var c=e.charCodeAt(f);if(c>=32768){c==32769&&n--,a=0;continue}a==0?u=c:(i(u<<a|c>>>15-a),u=c&(1<<15-a)-1),a==15?a=0:a+=1}return o.subarray(0,n)}})(s.BinaryString||(s.BinaryString={}))})(t.Encoding||(t.Encoding={}))})(p||(p={}));(function(t){(function(s){(function(r){r.encodeFromString=function(e,o){var n=e.charCodeAt(o);if(n<55296||n>56319)return n;var i=e.charCodeAt(o+1);if(i>=56320&&i<=57343)return 65536+((n-55296<<10)+(i-56320));throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code "+n+", followed by "+i+", which is not a trailing surrogate character code.")},r.decodeToString=function(e){if(e<=65535)return String.fromCharCode(e);if(e<=1114111)return String.fromCharCode(55296+(e-65536>>>10),56320+(e-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of "+e+" cannot be encoded in UTF-16")}})(s.CodePoint||(s.CodePoint={}))})(t.Encoding||(t.Encoding={}))})(p||(p={}));(function(t){(function(s){(function(r){var e=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"];r.encode=function(o){for(var n=[],i=0;i<o.length;i++)n.push(e[o[i]]);return n.join(" ")}})(s.DecimalString||(s.DecimalString={}))})(t.Encoding||(t.Encoding={}))})(p||(p={}));(function(t){(function(s){(function(r){r.encode=function(e){return s.BinaryString.encode(e).replace(/\0/g,"\u8002")},r.decode=function(e){return s.BinaryString.decode(e.replace(/\u8002/g,"\0"))}})(s.StorageBinaryString||(s.StorageBinaryString={}))})(t.Encoding||(t.Encoding={}))})(p||(p={}));(function(t){(function(s){(function(r){var e,o;r.encode=function(n){return!n||n.length==0?new Uint8Array(0):t.runningInNodeJS()?t.BufferTools.bufferToUint8Array(Buffer.from(n,"utf8")):r.createNativeTextEncoderAndDecoderIfAvailable()?e.encode(n):r.encodeWithJS(n)},r.decode=function(n){return!n||n.length==0?"":t.runningInNodeJS()?t.BufferTools.uint8ArrayToBuffer(n).toString("utf8"):r.createNativeTextEncoderAndDecoderIfAvailable()?o.decode(n):r.decodeWithJS(n)},r.encodeWithJS=function(n,i){if(!n||n.length==0)return new Uint8Array(0);i||(i=new Uint8Array(n.length*4));for(var u=0,a=0;a<n.length;a++){var f=s.CodePoint.encodeFromString(n,a);if(f<=127)i[u++]=f;else if(f<=2047)i[u++]=192|f>>>6,i[u++]=128|f&63;else if(f<=65535)i[u++]=224|f>>>12,i[u++]=128|f>>>6&63,i[u++]=128|f&63;else if(f<=1114111)i[u++]=240|f>>>18,i[u++]=128|f>>>12&63,i[u++]=128|f>>>6&63,i[u++]=128|f&63,a++;else throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)")}return i.subarray(0,u)},r.decodeWithJS=function(n,i,u){if(i===void 0&&(i=0),!n||n.length==0)return"";u===void 0&&(u=n.length);for(var a=new t.StringBuilder,f,c,d=i,h=u;d<h;){if(c=n[d],c>>>7===0)f=c,d+=1;else if(c>>>5===6){if(d+1>=u)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+d);f=(c&31)<<6|n[d+1]&63,d+=2}else if(c>>>4===14){if(d+2>=u)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+d);f=(c&15)<<12|(n[d+1]&63)<<6|n[d+2]&63,d+=3}else if(c>>>3===30){if(d+3>=u)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+d);f=(c&7)<<18|(n[d+1]&63)<<12|(n[d+2]&63)<<6|n[d+3]&63,d+=4}else throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+d);a.appendCodePoint(f)}return a.getOutputString()},r.createNativeTextEncoderAndDecoderIfAvailable=function(){return e?!0:typeof TextEncoder=="function"?(e=new TextEncoder("utf-8"),o=new TextDecoder("utf-8"),!0):!1}})(s.UTF8||(s.UTF8={}))})(t.Encoding||(t.Encoding={}))})(p||(p={}));var p;(function(t){function s(l,g){if(g===void 0&&(g={}),l==null)throw new TypeError("compress: undefined or null input received");var y=t.CompressionCommon.detectCompressionSourceEncoding(l);g=t.ObjectTools.override({inputEncoding:y,outputEncoding:"ByteArray"},g);var B=new t.Compressor,w=B.compressBlock(l);return t.CompressionCommon.encodeCompressedBytes(w,g.outputEncoding)}t.compress=s;function r(l,g){if(g===void 0&&(g={}),l==null)throw new TypeError("decompress: undefined or null input received");g=t.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},g);var y=t.CompressionCommon.decodeCompressedBytes(l,g.inputEncoding),B=new t.Decompressor,w=B.decompressBlock(y);return t.CompressionCommon.encodeDecompressedBytes(w,g.outputEncoding)}t.decompress=r;function e(l,g,y){y==null&&(y=function(){});var B;try{B=t.CompressionCommon.detectCompressionSourceEncoding(l)}catch(w){y(void 0,w);return}g=t.ObjectTools.override({inputEncoding:B,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},g),t.enqueueImmediate(function(){g.useWebWorker&&t.WebWorker.createGlobalWorkerIfNeeded()?t.WebWorker.compressAsync(l,g,y):t.AsyncCompressor.compressAsync(l,g,y)})}t.compressAsync=e;function o(l,g,y){if(y==null&&(y=function(){}),l==null){y(void 0,new TypeError("decompressAsync: undefined or null input received"));return}g=t.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},g);var B=t.BufferTools.convertToUint8ArrayIfNeeded(l);t.EventLoop.enqueueImmediate(function(){g.useWebWorker&&t.WebWorker.createGlobalWorkerIfNeeded()?t.WebWorker.decompressAsync(B,g,y):t.AsyncDecompressor.decompressAsync(l,g,y)})}t.decompressAsync=o;function n(){return t.AsyncCompressor.createCompressionStream()}t.createCompressionStream=n;function i(){return t.AsyncDecompressor.createDecompressionStream()}t.createDecompressionStream=i;function u(l){return t.Encoding.UTF8.encode(l)}t.encodeUTF8=u;function a(l){return t.Encoding.UTF8.decode(l)}t.decodeUTF8=a;function f(l){return t.Encoding.Base64.encode(l)}t.encodeBase64=f;function c(l){return t.Encoding.Base64.decode(l)}t.decodeBase64=c;function d(l){return t.Encoding.BinaryString.encode(l)}t.encodeBinaryString=d;function h(l){return t.Encoding.BinaryString.decode(l)}t.decodeBinaryString=h;function m(l){return t.Encoding.StorageBinaryString.encode(l)}t.encodeStorageBinaryString=m;function v(l){return t.Encoding.StorageBinaryString.decode(l)}t.decodeStorageBinaryString=v})(p||(p={}));var A=p;function R(t){const s=A.compress(t,{inputEncoding:"String",outputEncoding:"Base64"});return encodeURIComponent(s)}function E(t){return A.compress(t,{inputEncoding:"String",outputEncoding:"StorageBinaryString"})}function D(t){const s=decodeURIComponent(t);return A.decompress(s,{inputEncoding:"Base64",outputEncoding:"String"})}function C(t){return A.decompress(t,{inputEncoding:"StorageBinaryString",outputEncoding:"String"})}function k(t,s=null,r){var u;if(typeof window=="undefined")return b(s);if(!r)return S(s);const e=`kahi-docs.${t}`,{set:o,subscribe:n,update:i}=S((u=r.getItem(e))!=null?u:s,a=>{function f(c){var d;c.key!==e||c.storageArea!==r||a((d=c.newValue)!=null?d:s)}return window.addEventListener("storage",f),()=>window.removeEventListener("storage",f)});return{set(a){a===null?r.removeItem(e):r.setItem(e,a),o(a!=null?a:s)},subscribe:n,update(a){i(f=>{const c=a(f);return c===null?r.removeItem(e):r.setItem(e,c),c!=null?c:s})}}}function I(t,s,r){if(typeof window=="undefined")return b("");const{set:e,subscribe:o,update:n}=k(t,s,r);return{set(i){const u=i?E(i):"";e(u)},subscribe(i){return o(u=>{const a=u?C(u):"";i(a)})},update(i){n(u=>{const a=u?C(u):"",f=i(a);return f?E(f):""})}}}const M=(t,s=null)=>k(t,s,typeof localStorage!="undefined"?localStorage:void 0),x=(t,s=null)=>I(t,s,typeof sessionStorage!="undefined"?sessionStorage:void 0),j=x("playground.session",""),q=M("preferences.theme","");export{R as c,D as d,q as p,j as s};
