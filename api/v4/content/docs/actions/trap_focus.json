{"data":{"metadata":{"authors":{},"created_at":1639420683000,"identifier":"/docs/actions/trap_focus","modified_at":1645838554000,"sections":[{"identifier":"trap_focus","level":1,"text":"trap_focus"},{"identifier":"imports","level":2,"text":"Imports"},{"identifier":"compatibility","level":2,"text":"Compatibility"},{"identifier":"first--last","level":2,"text":"First + Last"}],"snippets":[{"identifier":"trap_focus-preview","script":"<script>\n    import {\n        Box,\n        Button,\n        Check,\n        trap_focus,\n    } from \"@kahi-ui/framework\";\n\n    let enabled = false;\n</script>\n\n<Box\n    palette={enabled ? \"affirmative\" : \"negative\"}\n    padding=\"small\"\n>\n    {enabled\n        ? \"unselect the checkbox to disabled focus trapping\"\n        : \"select the checkbox to enable focus trapping\"}\n</Box>\n\n<Check bind:state={enabled} />\n\n<div use:trap_focus={{enabled}}>\n    <Button tabindex=\"3\">Index #3</Button>\n    <Button tabindex=\"1\">Index #1</Button>\n    <Button tabindex=\"5\">Index #5</Button>\n    <Button tabindex=\"4\">Index #4</Button>\n    <Button tabindex=\"2\">Index #2</Button>\n</div>","syntax":"svelte","title":"trap_focus Preview"},{"identifier":"trap_focus-first--last","script":"<script>\n    import {\n        Box,\n        Button,\n        Check,\n        trap_focus,\n    } from \"@kahi-ui/framework\";\n\n    let first_element;\n    let last_element;\n\n    let enabled = false;\n</script>\n\n<Box\n    palette={enabled ? \"affirmative\" : \"negative\"}\n    padding=\"small\"\n>\n    {enabled\n        ? \"unselect the checkbox to disabled focus trapping\"\n        : \"select the checkbox to enable focus trapping\"}\n</Box>\n\n<Check bind:state={enabled} />\n\n<div\n    use:trap_focus={{\n        first: first_element,\n        enabled,\n        last: last_element,\n    }}\n>\n    <Button tabindex=\"3\">Index #3</Button>\n\n    <Button bind:element={first_element} tabindex=\"1\">\n        Index #1\n    </Button>\n\n    <Button tabindex=\"5\" bind:element={last_element}\n        >Index #5</Button\n    >\n\n    <Button tabindex=\"4\">Index #4</Button>\n\n    <Button tabindex=\"2\">Index #2</Button>\n</div>","syntax":"svelte","title":"trap_focus First + Last"}],"title":"trap_focus"},"text":"trap_focus NOTE : Introduced feature in v0.4.13. USAGE : This feature can not be demonstrated in the REPL, click the Link button to open in Playground. trap_focus is a Svelte Action , which when ITrapFocusOptions.enabled: boolean is true, traps focus movement (TAB / SHIFT+TAB) to within the attached element's first and last found focusable elements. <script> import { Box, Button, Check, trap_focus, } from \"@kahi-ui/framework\"; let enabled = false; </script> <Box palette={enabled ? \"affirmative\" : \"negative\"} padding=\"small\" > {enabled ? \"unselect the checkbox to disabled focus trapping\" : \"select the checkbox to enable focus trapping\"} </Box> <Check bind:state={enabled} /> <div use:trap_focus={{enabled}}> <Button tabindex=\"3\">Index #3</Button> <Button tabindex=\"1\">Index #1</Button> <Button tabindex=\"5\">Index #5</Button> <Button tabindex=\"4\">Index #4</Button> <Button tabindex=\"2\">Index #2</Button> </div> Imports import {trap_focus} from \"@kahi-ui/framework\"; Compatibility Svelte Actions are always ran on Javascript-enabled Browser. So should not be used for critical end-user functionality, only progressive enhancement. First + Last USAGE : This feature can not be demonstrated in the REPL, click the Link button to open in Playground. You can customize the first / last focusable elements with references or CSS Selectors via the ITrapFocusOptions.first: HTMLElement | string / ITrapFocusOptions.last: HTMLElement | string options. <script> import { Box, Button, Check, trap_focus, } from \"@kahi-ui/framework\"; let first_element; let last_element; let enabled = false; </script> <Box palette={enabled ? \"affirmative\" : \"negative\"} padding=\"small\" > {enabled ? \"unselect the checkbox to disabled focus trapping\" : \"select the checkbox to enable focus trapping\"} </Box> <Check bind:state={enabled} /> <div use:trap_focus={{ first: first_element, enabled, last: last_element, }} > <Button tabindex=\"3\">Index #3</Button> <Button bind:element={first_element} tabindex=\"1\"> Index #1 </Button> <Button tabindex=\"5\" bind:element={last_element} >Index #5</Button > <Button tabindex=\"4\">Index #4</Button> <Button tabindex=\"2\">Index #2</Button> </div> ","references":{"custom_properties":{},"events":{},"properties":{},"slots":{}},"render":"<blockquote data-palette=\"accent\">\n<p><strong>NOTE</strong>: Introduced feature in <code>v0.4.13</code>.</p>\n</blockquote>\n<blockquote data-palette=\"informative\">\n<p><strong>USAGE</strong>: This feature can not be demonstrated in the REPL, click the <strong>Link</strong> button to open in Playground.</p>\n</blockquote>\n<p><code>trap_focus</code> is a <a href=\"https://svelte.dev/docs#use_action\" target=\"_blank\" rel=\"noopener noreferrer\">Svelte Action</a>, which when <code>ITrapFocusOptions.enabled: boolean</code> is <code>true</code>, traps focus movement (<code>TAB</code> / <code>SHIFT+TAB</code>) to within the attached element's first and last found focusable elements.</p>\n<pre class=\"highlight language-svelte\" data-identifier=\"trap_focus-preview\" data-mode=\"repl\" data-syntax=\"svelte\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n        Box<span class=\"token punctuation\">,</span>\n        Button<span class=\"token punctuation\">,</span>\n        Check<span class=\"token punctuation\">,</span>\n        trap_focus<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@kahi-ui/framework\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> enabled <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Box</span>\n    <span class=\"token attr-name\">palette=</span><span class=\"token language-javascript\"><span class=\"token punctuation\">{</span>enabled <span class=\"token operator\">?</span> <span class=\"token string\">\"affirmative\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"negative\"</span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token attr-name\">padding</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>small<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">></span></span>\n    <span class=\"token language-javascript\"><span class=\"token punctuation\">{</span>enabled\n        <span class=\"token operator\">?</span> <span class=\"token string\">\"unselect the checkbox to disabled focus trapping\"</span>\n        <span class=\"token operator\">:</span> <span class=\"token string\">\"select the checkbox to enable focus trapping\"</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Box</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Check</span> <span class=\"token attr-name\"><span class=\"token namespace\">bind:</span>state=</span><span class=\"token language-javascript\"><span class=\"token punctuation\">{</span>enabled<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\"><span class=\"token namespace\">use:</span>trap_focus=</span><span class=\"token language-javascript\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>enabled<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>3<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Index #3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Index #1<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Index #5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Index #4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Index #2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre><h2 id=\"imports\">Imports</h2>\n<pre class=\"highlight language-javascript\" data-identifier=\"trap_focus-imports\" data-mode=\"default\" data-syntax=\"javascript\"><code><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>trap_focus<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@kahi-ui/framework\"</span><span class=\"token punctuation\">;</span></code></pre><h2 id=\"compatibility\">Compatibility</h2>\n<p>Svelte Actions are always ran on Javascript-enabled Browser. So should not be used for critical end-user functionality, only progressive enhancement.</p>\n<h2 id=\"first--last\">First + Last</h2>\n<blockquote data-palette=\"informative\">\n<p><strong>USAGE</strong>: This feature can not be demonstrated in the REPL, click the <strong>Link</strong> button to open in Playground.</p>\n</blockquote>\n<p>You can customize the first / last focusable elements with references or CSS Selectors via the <code>ITrapFocusOptions.first: HTMLElement | string</code> / <code>ITrapFocusOptions.last: HTMLElement | string</code> options.</p>\n<pre class=\"highlight language-svelte\" data-identifier=\"trap_focus-first--last\" data-mode=\"repl\" data-syntax=\"svelte\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n        Box<span class=\"token punctuation\">,</span>\n        Button<span class=\"token punctuation\">,</span>\n        Check<span class=\"token punctuation\">,</span>\n        trap_focus<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"@kahi-ui/framework\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> first_element<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">let</span> last_element<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">let</span> enabled <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Box</span>\n    <span class=\"token attr-name\">palette=</span><span class=\"token language-javascript\"><span class=\"token punctuation\">{</span>enabled <span class=\"token operator\">?</span> <span class=\"token string\">\"affirmative\"</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"negative\"</span><span class=\"token punctuation\">}</span></span>\n    <span class=\"token attr-name\">padding</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>small<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">></span></span>\n    <span class=\"token language-javascript\"><span class=\"token punctuation\">{</span>enabled\n        <span class=\"token operator\">?</span> <span class=\"token string\">\"unselect the checkbox to disabled focus trapping\"</span>\n        <span class=\"token operator\">:</span> <span class=\"token string\">\"select the checkbox to enable focus trapping\"</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Box</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Check</span> <span class=\"token attr-name\"><span class=\"token namespace\">bind:</span>state=</span><span class=\"token language-javascript\"><span class=\"token punctuation\">{</span>enabled<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span>\n    <span class=\"token attr-name\"><span class=\"token namespace\">use:</span>trap_focus=</span><span class=\"token language-javascript\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n        first<span class=\"token operator\">:</span> first_element<span class=\"token punctuation\">,</span>\n        enabled<span class=\"token punctuation\">,</span>\n        last<span class=\"token operator\">:</span> last_element<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n<span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>3<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Index #3<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Button</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\"><span class=\"token namespace\">bind:</span>element=</span><span class=\"token language-javascript\"><span class=\"token punctuation\">{</span>first_element<span class=\"token punctuation\">}</span></span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>1<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n        Index #1\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Button</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>5<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\"><span class=\"token namespace\">bind:</span>element=</span><span class=\"token language-javascript\"><span class=\"token punctuation\">{</span>last_element<span class=\"token punctuation\">}</span></span>\n        <span class=\"token punctuation\">></span></span>Index #5<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Button</span>\n    <span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>4<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Index #4<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Button</span><span class=\"token punctuation\">></span></span>\n\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Button</span> <span class=\"token attr-name\">tabindex</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>2<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Index #2<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Button</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre>"}}